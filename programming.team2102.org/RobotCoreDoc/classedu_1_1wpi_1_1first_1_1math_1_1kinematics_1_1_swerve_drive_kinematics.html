<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot Core Documentation: edu.wpi.first.math.kinematics.SwerveDriveKinematics Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Robot Core Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>edu</b></li><li class="navelem"><b>wpi</b></li><li class="navelem"><b>first</b></li><li class="navelem"><b>math</b></li><li class="navelem"><b>kinematics</b></li><li class="navelem"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_drive_kinematics.html">SwerveDriveKinematics</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_drive_kinematics-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">edu.wpi.first.math.kinematics.SwerveDriveKinematics Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for edu.wpi.first.math.kinematics.SwerveDriveKinematics:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_drive_kinematics.png" usemap="#edu.wpi.first.math.kinematics.SwerveDriveKinematics_map" alt=""/>
  <map id="edu.wpi.first.math.kinematics.SwerveDriveKinematics_map" name="edu.wpi.first.math.kinematics.SwerveDriveKinematics_map">
<area href="interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics.html" alt="edu.wpi.first.math.kinematics.Kinematics&lt; SwerveDriveKinematics.SwerveDriveWheelStates, SwerveDriveWheelPositions &gt;" shape="rect" coords="0,0,710,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae3c0146bcaeff6e893aafb3e15a66708" id="r_ae3c0146bcaeff6e893aafb3e15a66708"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3c0146bcaeff6e893aafb3e15a66708">SwerveDriveKinematics</a> (Translation2d... moduleTranslationsMeters)</td></tr>
<tr class="separator:ae3c0146bcaeff6e893aafb3e15a66708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940d0bd17b70d001634351786f071cfb" id="r_a940d0bd17b70d001634351786f071cfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a940d0bd17b70d001634351786f071cfb">resetHeadings</a> (Rotation2d... moduleHeadings)</td></tr>
<tr class="separator:a940d0bd17b70d001634351786f071cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51287be514d61be18813f7f2e0794731" id="r_a51287be514d61be18813f7f2e0794731"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51287be514d61be18813f7f2e0794731">toSwerveModuleStates</a> (<a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a> chassisSpeeds, <a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1geometry_1_1_translation2d.html">Translation2d</a> centerOfRotationMeters)</td></tr>
<tr class="separator:a51287be514d61be18813f7f2e0794731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42096153568edc426fa990904b31090" id="r_ab42096153568edc426fa990904b31090"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab42096153568edc426fa990904b31090">toSwerveModuleStates</a> (<a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a> chassisSpeeds)</td></tr>
<tr class="separator:ab42096153568edc426fa990904b31090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5299d1cd1cc76135726eeecee963284f" id="r_a5299d1cd1cc76135726eeecee963284f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5299d1cd1cc76135726eeecee963284f">toChassisSpeeds</a> (SwerveModuleState... moduleStates)</td></tr>
<tr class="separator:a5299d1cd1cc76135726eeecee963284f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f100ba1506fe55a1a704bd8786343f" id="r_ae4f100ba1506fe55a1a704bd8786343f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1geometry_1_1_twist2d.html">Twist2d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4f100ba1506fe55a1a704bd8786343f">toTwist2d</a> (SwerveModulePosition... moduleDeltas)</td></tr>
<tr class="separator:ae4f100ba1506fe55a1a704bd8786343f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics.html">edu.wpi.first.math.kinematics.Kinematics&lt; SwerveDriveKinematics.SwerveDriveWheelStates, SwerveDriveWheelPositions &gt;</a></td></tr>
<tr class="memitem:ac9b2bcb17e192dc6674777eca54deb39 inherit pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics" id="r_ac9b2bcb17e192dc6674777eca54deb39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics.html#ac9b2bcb17e192dc6674777eca54deb39">toChassisSpeeds</a> (S wheelSpeeds)</td></tr>
<tr class="separator:ac9b2bcb17e192dc6674777eca54deb39 inherit pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa642600a08e4259c8fbbfef7afb40499 inherit pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics" id="r_aa642600a08e4259c8fbbfef7afb40499"><td class="memItemLeft" align="right" valign="top">S&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics.html#aa642600a08e4259c8fbbfef7afb40499">toWheelSpeeds</a> (<a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a> chassisSpeeds)</td></tr>
<tr class="separator:aa642600a08e4259c8fbbfef7afb40499 inherit pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc0ab6ed42eb9b1fb47b9b4ac979c0e inherit pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics" id="r_a6dc0ab6ed42eb9b1fb47b9b4ac979c0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1geometry_1_1_twist2d.html">Twist2d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics.html#a6dc0ab6ed42eb9b1fb47b9b4ac979c0e">toTwist2d</a> (P start, P end)</td></tr>
<tr class="separator:a6dc0ab6ed42eb9b1fb47b9b4ac979c0e inherit pub_methods_interfaceedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_kinematics"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad84dcb0afe48f30b9d2446855f212cad" id="r_ad84dcb0afe48f30b9d2446855f212cad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad84dcb0afe48f30b9d2446855f212cad">desaturateWheelSpeeds</a> (<a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[] moduleStates, double attainableMaxSpeedMetersPerSecond)</td></tr>
<tr class="separator:ad84dcb0afe48f30b9d2446855f212cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5d385ce6c8c636ccacf7c7d61c9eb5" id="r_a7b5d385ce6c8c636ccacf7c7d61c9eb5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b5d385ce6c8c636ccacf7c7d61c9eb5">desaturateWheelSpeeds</a> (<a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[] moduleStates, Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_distance.html">Distance</a> &gt; &gt; attainableMaxSpeed)</td></tr>
<tr class="separator:a7b5d385ce6c8c636ccacf7c7d61c9eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949720125fa0cf60dc02bf019f87498d" id="r_a949720125fa0cf60dc02bf019f87498d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a949720125fa0cf60dc02bf019f87498d">desaturateWheelSpeeds</a> (<a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[] moduleStates, <a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a> desiredChassisSpeed, double attainableMaxModuleSpeedMetersPerSecond, double attainableMaxTranslationalSpeedMetersPerSecond, double attainableMaxRotationalVelocityRadiansPerSecond)</td></tr>
<tr class="separator:a949720125fa0cf60dc02bf019f87498d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390c382b6e895d2dd250133b1c8599f2" id="r_a390c382b6e895d2dd250133b1c8599f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a390c382b6e895d2dd250133b1c8599f2">desaturateWheelSpeeds</a> (<a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[] moduleStates, <a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a> desiredChassisSpeed, Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_distance.html">Distance</a> &gt; &gt; attainableMaxModuleSpeed, Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_distance.html">Distance</a> &gt; &gt; attainableMaxTranslationalSpeed, Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_angle.html">Angle</a> &gt; &gt; attainableMaxRotationalVelocity)</td></tr>
<tr class="separator:a390c382b6e895d2dd250133b1c8599f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class that converts a chassis velocity (dx, dy, and dtheta components) into individual module states (speed and angle).</p>
<p>The inverse kinematics (converting from a desired chassis velocity to individual module states) uses the relative locations of the modules with respect to the center of rotation. The center of rotation for inverse kinematics is also variable. This means that you can set your center of rotation in a corner of the robot to perform special evasion maneuvers.</p>
<p>Forward kinematics (converting an array of module states into the overall chassis motion) is performs the exact opposite of what inverse kinematics does. Since this is an overdetermined system (more equations than variables), we use a least-squares approximation.</p>
<p>The inverse kinematics: [moduleStates] = [moduleLocations] * [chassisSpeeds] We take the Moore-Penrose pseudoinverse of [moduleLocations] and then multiply by [moduleStates] to get our chassis speeds.</p>
<p>Forward kinematics is also used for odometry &ndash; determining the position of the robot on the field using encoders and a gyro. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae3c0146bcaeff6e893aafb3e15a66708" name="ae3c0146bcaeff6e893aafb3e15a66708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c0146bcaeff6e893aafb3e15a66708">&#9670;&#160;</a></span>SwerveDriveKinematics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">edu.wpi.first.math.kinematics.SwerveDriveKinematics.SwerveDriveKinematics </td>
          <td>(</td>
          <td class="paramtype">Translation2d...</td>          <td class="paramname"><span class="paramname"><em>moduleTranslationsMeters</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a swerve drive kinematics object. This takes in a variable number of module locations as Translation2d objects. The order in which you pass in the module locations is the same order that you will receive the module states when performing inverse kinematics. It is also expected that you pass in the module states in the same order when calling the forward kinematics methods.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleTranslationsMeters</td><td>The locations of the modules relative to the physical center of the robot. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a949720125fa0cf60dc02bf019f87498d" name="a949720125fa0cf60dc02bf019f87498d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949720125fa0cf60dc02bf019f87498d">&#9670;&#160;</a></span>desaturateWheelSpeeds() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void edu.wpi.first.math.kinematics.SwerveDriveKinematics.desaturateWheelSpeeds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[]</td>          <td class="paramname"><span class="paramname"><em>moduleStates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a></td>          <td class="paramname"><span class="paramname"><em>desiredChassisSpeed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>attainableMaxModuleSpeedMetersPerSecond</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>attainableMaxTranslationalSpeedMetersPerSecond</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>attainableMaxRotationalVelocityRadiansPerSecond</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Renormalizes the wheel speeds if any individual speed is above the specified maximum, as well as getting rid of joystick saturation at edges of joystick.</p>
<p>Sometimes, after inverse kinematics, the requested speed from one or more modules may be above the max attainable speed for the driving motor on that module. To fix this issue, one can reduce all the wheel speeds to make sure that all requested module speeds are at-or-below the absolute threshold, while maintaining the ratio of speeds between modules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleStates</td><td>Reference to array of module states. The array will be mutated with the normalized speeds! </td></tr>
    <tr><td class="paramname">desiredChassisSpeed</td><td>The desired speed of the robot </td></tr>
    <tr><td class="paramname">attainableMaxModuleSpeedMetersPerSecond</td><td>The absolute max speed that a module can reach </td></tr>
    <tr><td class="paramname">attainableMaxTranslationalSpeedMetersPerSecond</td><td>The absolute max speed that your robot can reach while translating </td></tr>
    <tr><td class="paramname">attainableMaxRotationalVelocityRadiansPerSecond</td><td>The absolute max speed the robot can reach while rotating </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a390c382b6e895d2dd250133b1c8599f2" name="a390c382b6e895d2dd250133b1c8599f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390c382b6e895d2dd250133b1c8599f2">&#9670;&#160;</a></span>desaturateWheelSpeeds() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void edu.wpi.first.math.kinematics.SwerveDriveKinematics.desaturateWheelSpeeds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[]</td>          <td class="paramname"><span class="paramname"><em>moduleStates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a></td>          <td class="paramname"><span class="paramname"><em>desiredChassisSpeed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_distance.html">Distance</a> &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>attainableMaxModuleSpeed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_distance.html">Distance</a> &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>attainableMaxTranslationalSpeed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_angle.html">Angle</a> &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>attainableMaxRotationalVelocity</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Renormalizes the wheel speeds if any individual speed is above the specified maximum, as well as getting rid of joystick saturation at edges of joystick.</p>
<p>Sometimes, after inverse kinematics, the requested speed from one or more modules may be above the max attainable speed for the driving motor on that module. To fix this issue, one can reduce all the wheel speeds to make sure that all requested module speeds are at-or-below the absolute threshold, while maintaining the ratio of speeds between modules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleStates</td><td>Reference to array of module states. The array will be mutated with the normalized speeds! </td></tr>
    <tr><td class="paramname">desiredChassisSpeed</td><td>The desired speed of the robot </td></tr>
    <tr><td class="paramname">attainableMaxModuleSpeed</td><td>The absolute max speed that a module can reach </td></tr>
    <tr><td class="paramname">attainableMaxTranslationalSpeed</td><td>The absolute max speed that your robot can reach while translating </td></tr>
    <tr><td class="paramname">attainableMaxRotationalVelocity</td><td>The absolute max speed the robot can reach while rotating </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad84dcb0afe48f30b9d2446855f212cad" name="ad84dcb0afe48f30b9d2446855f212cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84dcb0afe48f30b9d2446855f212cad">&#9670;&#160;</a></span>desaturateWheelSpeeds() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void edu.wpi.first.math.kinematics.SwerveDriveKinematics.desaturateWheelSpeeds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[]</td>          <td class="paramname"><span class="paramname"><em>moduleStates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>attainableMaxSpeedMetersPerSecond</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Renormalizes the wheel speeds if any individual speed is above the specified maximum.</p>
<p>Sometimes, after inverse kinematics, the requested speed from one or more modules may be above the max attainable speed for the driving motor on that module. To fix this issue, one can reduce all the wheel speeds to make sure that all requested module speeds are at-or-below the absolute threshold, while maintaining the ratio of speeds between modules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleStates</td><td>Reference to array of module states. The array will be mutated with the normalized speeds! </td></tr>
    <tr><td class="paramname">attainableMaxSpeedMetersPerSecond</td><td>The absolute max speed that a module can reach. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b5d385ce6c8c636ccacf7c7d61c9eb5" name="a7b5d385ce6c8c636ccacf7c7d61c9eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b5d385ce6c8c636ccacf7c7d61c9eb5">&#9670;&#160;</a></span>desaturateWheelSpeeds() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void edu.wpi.first.math.kinematics.SwerveDriveKinematics.desaturateWheelSpeeds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[]</td>          <td class="paramname"><span class="paramname"><em>moduleStates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Measure&lt; Velocity&lt; <a class="el" href="classedu_1_1wpi_1_1first_1_1units_1_1_distance.html">Distance</a> &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>attainableMaxSpeed</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Renormalizes the wheel speeds if any individual speed is above the specified maximum.</p>
<p>Sometimes, after inverse kinematics, the requested speed from one or more modules may be above the max attainable speed for the driving motor on that module. To fix this issue, one can reduce all the wheel speeds to make sure that all requested module speeds are at-or-below the absolute threshold, while maintaining the ratio of speeds between modules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleStates</td><td>Reference to array of module states. The array will be mutated with the normalized speeds! </td></tr>
    <tr><td class="paramname">attainableMaxSpeed</td><td>The absolute max speed that a module can reach. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a940d0bd17b70d001634351786f071cfb" name="a940d0bd17b70d001634351786f071cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a940d0bd17b70d001634351786f071cfb">&#9670;&#160;</a></span>resetHeadings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void edu.wpi.first.math.kinematics.SwerveDriveKinematics.resetHeadings </td>
          <td>(</td>
          <td class="paramtype">Rotation2d...</td>          <td class="paramname"><span class="paramname"><em>moduleHeadings</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the internal swerve module headings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleHeadings</td><td>The swerve module headings. The order of the module headings should be same as passed into the constructor of this class. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5299d1cd1cc76135726eeecee963284f" name="a5299d1cd1cc76135726eeecee963284f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5299d1cd1cc76135726eeecee963284f">&#9670;&#160;</a></span>toChassisSpeeds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a> edu.wpi.first.math.kinematics.SwerveDriveKinematics.toChassisSpeeds </td>
          <td>(</td>
          <td class="paramtype">SwerveModuleState...</td>          <td class="paramname"><span class="paramname"><em>moduleStates</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs forward kinematics to return the resulting chassis state from the given module states. This method is often used for odometry &ndash; determining the robot's position on the field using data from the real-world speed and angle of each module on the robot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleStates</td><td>The state of the modules (as a <a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a> type) as measured from respective encoders and gyros. The order of the swerve module states should be same as passed into the constructor of this class. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The resulting chassis speed. </dd></dl>

</div>
</div>
<a id="ab42096153568edc426fa990904b31090" name="ab42096153568edc426fa990904b31090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab42096153568edc426fa990904b31090">&#9670;&#160;</a></span>toSwerveModuleStates() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[] edu.wpi.first.math.kinematics.SwerveDriveKinematics.toSwerveModuleStates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a></td>          <td class="paramname"><span class="paramname"><em>chassisSpeeds</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs inverse kinematics. See <code><a class="el" href="#a51287be514d61be18813f7f2e0794731">toSwerveModuleStates(ChassisSpeeds, Translation2d)</a></code> toSwerveModuleStates for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chassisSpeeds</td><td>The desired chassis speed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array containing the module states. </dd></dl>

</div>
</div>
<a id="a51287be514d61be18813f7f2e0794731" name="a51287be514d61be18813f7f2e0794731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51287be514d61be18813f7f2e0794731">&#9670;&#160;</a></span>toSwerveModuleStates() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html">SwerveModuleState</a>[] edu.wpi.first.math.kinematics.SwerveDriveKinematics.toSwerveModuleStates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_chassis_speeds.html">ChassisSpeeds</a></td>          <td class="paramname"><span class="paramname"><em>chassisSpeeds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1geometry_1_1_translation2d.html">Translation2d</a></td>          <td class="paramname"><span class="paramname"><em>centerOfRotationMeters</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs inverse kinematics to return the module states from a desired chassis velocity. This method is often used to convert joystick values into module speeds and angles.</p>
<p>This function also supports variable centers of rotation. During normal operations, the center of rotation is usually the same as the physical center of the robot; therefore, the argument is defaulted to that use case. However, if you wish to change the center of rotation for evasive maneuvers, vision alignment, or for any other use case, you can do so.</p>
<p>In the case that the desired chassis speeds are zero (i.e. the robot will be stationary), the previously calculated module angle will be maintained.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chassisSpeeds</td><td>The desired chassis speed. </td></tr>
    <tr><td class="paramname">centerOfRotationMeters</td><td>The center of rotation. For example, if you set the center of rotation at one corner of the robot and provide a chassis speed that only has a dtheta component, the robot will rotate around that corner. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array containing the module states. Use caution because these module states are not normalized. Sometimes, a user input may cause one of the module speeds to go above the attainable max velocity. Use the <code><a class="el" href="#ad84dcb0afe48f30b9d2446855f212cad">DesaturateWheelSpeeds</a></code> function to rectify this issue. </dd></dl>

</div>
</div>
<a id="ae4f100ba1506fe55a1a704bd8786343f" name="ae4f100ba1506fe55a1a704bd8786343f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4f100ba1506fe55a1a704bd8786343f">&#9670;&#160;</a></span>toTwist2d()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1geometry_1_1_twist2d.html">Twist2d</a> edu.wpi.first.math.kinematics.SwerveDriveKinematics.toTwist2d </td>
          <td>(</td>
          <td class="paramtype">SwerveModulePosition...</td>          <td class="paramname"><span class="paramname"><em>moduleDeltas</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs forward kinematics to return the resulting chassis state from the given module states. This method is often used for odometry &ndash; determining the robot's position on the field using data from the real-world speed and angle of each module on the robot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleDeltas</td><td>The latest change in position of the modules (as a <a class="el" href="classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_position.html">SwerveModulePosition</a> type) as measured from respective encoders and gyros. The order of the swerve module states should be same as passed into the constructor of this class. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The resulting Twist2d. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/SDASVN/2024/RaspberryPi/VSCode/Source/edu/wpi/first/math/kinematics/<b>SwerveDriveKinematics.java</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
