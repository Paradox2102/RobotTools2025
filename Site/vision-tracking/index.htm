<!DOCTYPE html>
<html lang="en-US">

<head>
	
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
			<link rel="pingback" href="http://gabybot.com/xmlrpc.php">
		<title>Vision Tracking &#8211; Robotics Programming</title>
<meta name='robots' content='max-image-preview:large'>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="Robotics Programming &raquo; Feed" href="../feed/index.htm">
<link rel="alternate" type="application/rss+xml" title="Robotics Programming &raquo; Comments Feed" href="../comments/feed/index.htm">
<link rel="alternate" type="application/rss+xml" title="Robotics Programming &raquo; Vision Tracking Comments Feed" href="feed/index.htm">
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/gabybot.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.9.2"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='crayon-css' href='../wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-theme-classic-css' href='../wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-font-monaco-css' href='../wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css?ver=5.9.2' type='text/css' media='all'>
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--neve-link-color: var(--nv-primary-accent);--wp--preset--color--neve-link-hover-color: var(--nv-secondary-accent);--wp--preset--color--nv-site-bg: var(--nv-site-bg);--wp--preset--color--nv-light-bg: var(--nv-light-bg);--wp--preset--color--nv-dark-bg: var(--nv-dark-bg);--wp--preset--color--neve-text-color: var(--nv-text-color);--wp--preset--color--nv-text-dark-bg: var(--nv-text-dark-bg);--wp--preset--color--nv-c-1: var(--nv-c-1);--wp--preset--color--nv-c-2: var(--nv-c-2);--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='neve-style-css' href='../wp-content/themes/neve/style-main-new.min.css?ver=3.2.0' type='text/css' media='all'>
<style id='neve-style-inline-css' type='text/css'>
.nv-meta-list li.meta:not(:last-child):after { content:"/" }
 :root{ --container: 748px;--postWidth:100%; --primaryBtnBg: var(--nv-primary-accent); --primaryBtnHoverBg: var(--nv-primary-accent); --primaryBtnColor: #ffffff; --secondaryBtnColor: var(--nv-primary-accent); --primaryBtnHoverColor: #ffffff; --secondaryBtnHoverColor: var(--nv-primary-accent);--primaryBtnBorderRadius:3px;--secondaryBtnBorderRadius:3px;--secondaryBtnBorderWidth:3px;--btnPadding:13px 15px;--primaryBtnPadding:13px 15px;--secondaryBtnPadding:10px 12px; --bodyFontFamily: Arial,Helvetica,sans-serif; --bodyFontSize: 15px; --bodyLineHeight: 1.6; --bodyLetterSpacing: 0px; --bodyFontWeight: 400; --h1FontSize: 36px; --h1FontWeight: 700; --h1LineHeight: 1.2; --h1LetterSpacing: 0px; --h1TextTransform: none; --h2FontSize: 28px; --h2FontWeight: 700; --h2LineHeight: 1.3; --h2LetterSpacing: 0px; --h2TextTransform: none; --h3FontSize: 24px; --h3FontWeight: 700; --h3LineHeight: 1.4; --h3LetterSpacing: 0px; --h3TextTransform: none; --h4FontSize: 20px; --h4FontWeight: 700; --h4LineHeight: 1.6; --h4LetterSpacing: 0px; --h4TextTransform: none; --h5FontSize: 16px; --h5FontWeight: 700; --h5LineHeight: 1.6; --h5LetterSpacing: 0px; --h5TextTransform: none; --h6FontSize: 14px; --h6FontWeight: 700; --h6LineHeight: 1.6; --h6LetterSpacing: 0px; --h6TextTransform: none;--formFieldBorderWidth:2px;--formFieldBorderRadius:3px; --formFieldBgColor: var(--nv-site-bg); --formFieldBorderColor: #dddddd; --formFieldColor: var(--nv-text-color);--formFieldPadding:10px 12px; } .single-post-container .alignfull > [class*="__inner-container"], .single-post-container .alignwide > [class*="__inner-container"]{ max-width:718px } .nv-meta-list{ --avatarSize: 20px; } .single .nv-meta-list{ --avatarSize: 20px; } .nv-post-cover{ --height: 250px;--padding:40px 15px;--justify: flex-start; --textAlign: left; --vAlign: center; } .nv-post-cover .nv-title-meta-wrap, .nv-page-title-wrap, .entry-header{ --textAlign: left; } .nv-is-boxed.nv-title-meta-wrap{ --padding:40px 15px; --bgColor: var(--nv-dark-bg); } .nv-overlay{ --opacity: 50; --blendMode: normal; } .nv-is-boxed.nv-comments-wrap{ --padding:20px; } .nv-is-boxed.comment-respond{ --padding:20px; } .global-styled{ --bgColor: var(--nv-site-bg); } .header-top{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-main{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-bottom{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-menu-sidebar-bg{ --justify: flex-start; --textAlign: left;--flexG: 1; --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-menu-sidebar{ width: 360px; } .builder-item--logo{ --maxWidth: 120px;--padding:10px 0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--nav-icon,.header-menu-sidebar .close-sidebar-panel .navbar-toggle{ --borderRadius:0; } .builder-item--nav-icon{ --padding:10px 15px;--margin:0; } .builder-item--primary-menu{ --hoverColor: var(--nv-secondary-accent); --activeColor: var(--nv-primary-accent); --spacing: 20px; --height: 25px;--padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --fontWeight: 500; --textTransform: none; --iconSize: 1em; } .hfg-is-group.has-primary-menu .inherit-ff{ --inheritedFW: 500; } .footer-top-inner .row{ grid-template-columns:1fr 1fr 1fr; --vAlign: flex-start; } .footer-top{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .footer-main-inner .row{ grid-template-columns:1fr 1fr 1fr; --vAlign: flex-start; } .footer-main{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .footer-bottom-inner .row{ grid-template-columns:1fr 1fr 1fr; --vAlign: flex-start; } .footer-bottom{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-dark-bg); --bgColor: var(--nv-dark-bg); } .builder-item--footer-one-widgets{ --padding:0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--footer_copyright{ --padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --fontWeight: 500; --textTransform: none; --iconSize: 1em; --textAlign: left;--justify: flex-start; } @media(min-width: 576px){ :root{ --container: 992px;--postWidth:50%;--btnPadding:13px 15px;--primaryBtnPadding:13px 15px;--secondaryBtnPadding:10px 12px; --bodyFontSize: 16px; --bodyLineHeight: 1.6; --bodyLetterSpacing: 0px; --h1FontSize: 38px; --h1LineHeight: 1.2; --h1LetterSpacing: 0px; --h2FontSize: 30px; --h2LineHeight: 1.2; --h2LetterSpacing: 0px; --h3FontSize: 26px; --h3LineHeight: 1.4; --h3LetterSpacing: 0px; --h4FontSize: 22px; --h4LineHeight: 1.5; --h4LetterSpacing: 0px; --h5FontSize: 18px; --h5LineHeight: 1.6; --h5LetterSpacing: 0px; --h6FontSize: 14px; --h6LineHeight: 1.6; --h6LetterSpacing: 0px; } .single-post-container .alignfull > [class*="__inner-container"], .single-post-container .alignwide > [class*="__inner-container"]{ max-width:962px } .nv-meta-list{ --avatarSize: 20px; } .single .nv-meta-list{ --avatarSize: 20px; } .nv-post-cover{ --height: 320px;--padding:60px 30px;--justify: flex-start; --textAlign: left; --vAlign: center; } .nv-post-cover .nv-title-meta-wrap, .nv-page-title-wrap, .entry-header{ --textAlign: left; } .nv-is-boxed.nv-title-meta-wrap{ --padding:60px 30px; } .nv-is-boxed.nv-comments-wrap{ --padding:30px; } .nv-is-boxed.comment-respond{ --padding:30px; } .header-menu-sidebar-bg{ --justify: flex-start; --textAlign: left;--flexG: 1; } .header-menu-sidebar{ width: 360px; } .builder-item--logo{ --maxWidth: 120px;--padding:10px 0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--nav-icon{ --padding:10px 15px;--margin:0; } .builder-item--primary-menu{ --spacing: 20px; --height: 25px;--padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; } .builder-item--footer-one-widgets{ --padding:0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--footer_copyright{ --padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; --textAlign: left;--justify: flex-start; } }@media(min-width: 960px){ :root{ --container: 1170px;--postWidth:33.333333333333%;--btnPadding:13px 15px;--primaryBtnPadding:13px 15px;--secondaryBtnPadding:10px 12px; --bodyFontSize: 16px; --bodyLineHeight: 1.7; --bodyLetterSpacing: 0px; --h1FontSize: 40px; --h1LineHeight: 1.1; --h1LetterSpacing: 0px; --h2FontSize: 32px; --h2LineHeight: 1.2; --h2LetterSpacing: 0px; --h3FontSize: 28px; --h3LineHeight: 1.4; --h3LetterSpacing: 0px; --h4FontSize: 24px; --h4LineHeight: 1.5; --h4LetterSpacing: 0px; --h5FontSize: 20px; --h5LineHeight: 1.6; --h5LetterSpacing: 0px; --h6FontSize: 16px; --h6LineHeight: 1.6; --h6LetterSpacing: 0px; } body:not(.single):not(.archive):not(.blog):not(.search):not(.error404) .neve-main > .container .col, body.post-type-archive-course .neve-main > .container .col, body.post-type-archive-llms_membership .neve-main > .container .col{ max-width: 75%; } body:not(.single):not(.archive):not(.blog):not(.search):not(.error404) .nv-sidebar-wrap, body.post-type-archive-course .nv-sidebar-wrap, body.post-type-archive-llms_membership .nv-sidebar-wrap{ max-width: 25%; } .neve-main > .archive-container .nv-index-posts.col{ max-width: 100%; } .neve-main > .archive-container .nv-sidebar-wrap{ max-width: 0%; } .neve-main > .single-post-container .nv-single-post-wrap.col{ max-width: 70%; } .single-post-container .alignfull > [class*="__inner-container"], .single-post-container .alignwide > [class*="__inner-container"]{ max-width:789px } .container-fluid.single-post-container .alignfull > [class*="__inner-container"], .container-fluid.single-post-container .alignwide > [class*="__inner-container"]{ max-width:calc(70% + 15px) } .neve-main > .single-post-container .nv-sidebar-wrap{ max-width: 30%; } .nv-meta-list{ --avatarSize: 20px; } .single .nv-meta-list{ --avatarSize: 20px; } .nv-post-cover{ --height: 400px;--padding:60px 40px;--justify: flex-start; --textAlign: left; --vAlign: center; } .nv-post-cover .nv-title-meta-wrap, .nv-page-title-wrap, .entry-header{ --textAlign: left; } .nv-is-boxed.nv-title-meta-wrap{ --padding:60px 40px; } .nv-is-boxed.nv-comments-wrap{ --padding:40px; } .nv-is-boxed.comment-respond{ --padding:40px; } .header-menu-sidebar-bg{ --justify: flex-start; --textAlign: left;--flexG: 1; } .header-menu-sidebar{ width: 360px; } .builder-item--logo{ --maxWidth: 120px;--padding:10px 0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--nav-icon{ --padding:10px 15px;--margin:0; } .builder-item--primary-menu{ --spacing: 20px; --height: 25px;--padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; } .builder-item--footer-one-widgets{ --padding:0;--margin:0; --textAlign: right;--justify: flex-end; } .builder-item--footer_copyright{ --padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; --textAlign: left;--justify: flex-start; } }:root{--nv-primary-accent:#2f5aae;--nv-secondary-accent:#2f5aae;--nv-site-bg:#ffffff;--nv-light-bg:#f4f5f7;--nv-dark-bg:#121212;--nv-text-color:#272626;--nv-text-dark-bg:#ffffff;--nv-c-1:#9463ae;--nv-c-2:#be574b;--nv-fallback-ff:Arial, Helvetica, sans-serif;}
</style>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' id='crayon_js-js-extra'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/gabybot.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta' id='crayon_js-js'></script>
<link rel="https://api.w.org/" href="../wp-json/index.htm"><link rel="alternate" type="application/json" href="../wp-json/wp/v2/pages/306"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://gabybot.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.9.2">
<link rel="canonical" href="index.htm">
<link rel='shortlink' href='index.htm?p=306'>
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed-46?url=http%3A%2F%2Fgabybot.com%2Fvision-tracking%2F">
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed-47?url=http%3A%2F%2Fgabybot.com%2Fvision-tracking%2F&#038;format=xml">

	</head>

<body class="page-template-default page page-id-306  nv-blog-grid nv-sidebar-right menu_sidebar_slide_left" id="neve_body">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0.49803921568627"></fefuncr><fefuncg type="table" tablevalues="0 0.49803921568627"></fefuncg><fefuncb type="table" tablevalues="0 0.49803921568627"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.54901960784314 0.98823529411765"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.71764705882353 0.25490196078431"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 0.27843137254902"></fefuncg><fefuncb type="table" tablevalues="0.5921568627451 0.27843137254902"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0"></fefuncr><fefuncg type="table" tablevalues="0 0.64705882352941"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.78039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.94901960784314"></fefuncg><fefuncb type="table" tablevalues="0.35294117647059 0.47058823529412"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.65098039215686 0.40392156862745"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.44705882352941 0.4"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.098039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.66274509803922"></fefuncg><fefuncb type="table" tablevalues="0.84705882352941 0.41960784313725"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><div class="wrapper">
	
	<header class="header" role="banner" next-page-hide="">
		<a class="neve-skip-link show-on-focus" href="#content">
			Skip to content		</a>
		<div id="header-grid" class="hfg_header site-header">
	
<nav class="header--row header-main hide-on-mobile hide-on-tablet layout-full-contained nv-navbar header--row" data-row-id="main" data-show-on="desktop">

	<div class="header--row-inner header-main-inner">
		<div class="container">
			<div class="row row--wrapper" data-section="hfg_header_layout_main">
				<div class="hfg-slot left"><div class="builder-item desktop-left"><div class="item--inner builder-item--logo" data-section="title_tagline" data-item-id="logo">
	
<div class="site-logo">
	<a class="brand" href="../index.htm" title="Robotics Programming" aria-label="Robotics Programming"><div class="nv-title-tagline-wrap"><p class="site-title">Robotics Programming</p><small>Team 2102 programming tutorials</small></div></a></div>

	</div>

</div></div><div class="hfg-slot right"><div class="builder-item has-nav"><div class="item--inner builder-item--primary-menu has_menu" data-section="header_menu_primary" data-item-id="primary-menu">
	<div class="nv-nav-wrap">
	<div role="navigation" class="style-plain nav-menu-primary" aria-label="Primary Menu">

		<ul id="nv-primary-navigation-main" class="primary-menu-ul nav-ul"><li id="menu-item-16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-16"><a href="../index.htm">HOME</a></li>
<li id="menu-item-26" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="../robot-java/index.htm">Minibot</a></li>
<li id="menu-item-254" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-254"><a href="../nerfbot/index.htm">Nerfbot</a></li>
<li id="menu-item-2723" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2723"><a href="../swervebot/index.htm">SwerveBot</a></li>
<li id="menu-item-333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-333"><a href="../more/index.htm">More</a></li>
</ul>	</div>
</div>

	</div>

</div></div>							</div>
		</div>
	</div>
</nav>


<nav class="header--row header-main hide-on-desktop layout-full-contained nv-navbar header--row" data-row-id="main" data-show-on="mobile">

	<div class="header--row-inner header-main-inner">
		<div class="container">
			<div class="row row--wrapper" data-section="hfg_header_layout_main">
				<div class="hfg-slot left"><div class="builder-item tablet-left mobile-left"><div class="item--inner builder-item--logo" data-section="title_tagline" data-item-id="logo">
	
<div class="site-logo">
	<a class="brand" href="../index.htm" title="Robotics Programming" aria-label="Robotics Programming"><div class="nv-title-tagline-wrap"><p class="site-title">Robotics Programming</p><small>Team 2102 programming tutorials</small></div></a></div>

	</div>

</div></div><div class="hfg-slot right"><div class="builder-item tablet-left mobile-left"><div class="item--inner builder-item--nav-icon" data-section="header_menu_icon" data-item-id="nav-icon">
	<div class="menu-mobile-toggle item-button navbar-toggle-wrapper">
	<button type="button" class=" navbar-toggle" value="Navigation Menu" aria-label="Navigation Menu ">
					<span class="bars">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</span>
					<span class="screen-reader-text">Navigation Menu</span>
	</button>
</div> <!--.navbar-toggle-wrapper-->


	</div>

</div></div>							</div>
		</div>
	</div>
</nav>

<div id="header-menu-sidebar" class="header-menu-sidebar menu-sidebar-panel slide_left" data-row-id="sidebar">
	<div id="header-menu-sidebar-bg" class="header-menu-sidebar-bg">
		<div class="close-sidebar-panel navbar-toggle-wrapper">
			<button type="button" class="hamburger is-active  navbar-toggle active" value="Navigation Menu" aria-label="Navigation Menu ">
									<span class="bars">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</span>
									<span class="screen-reader-text">
				Navigation Menu					</span>
			</button>
		</div>
		<div id="header-menu-sidebar-inner" class="header-menu-sidebar-inner ">
						<div class="builder-item has-nav"><div class="item--inner builder-item--primary-menu has_menu" data-section="header_menu_primary" data-item-id="primary-menu">
	<div class="nv-nav-wrap">
	<div role="navigation" class="style-plain nav-menu-primary" aria-label="Primary Menu">

		<ul id="nv-primary-navigation-sidebar" class="primary-menu-ul nav-ul"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-16"><a href="../index.htm">HOME</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="../robot-java/index.htm">Minibot</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-254"><a href="../nerfbot/index.htm">Nerfbot</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2723"><a href="../swervebot/index.htm">SwerveBot</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-333"><a href="../more/index.htm">More</a></li>
</ul>	</div>
</div>

	</div>

</div>					</div>
	</div>
</div>
<div class="header-menu-sidebar-overlay hfg-ov"></div>
</div>
	</header>

	

	
	<main id="content" class="neve-main" role="main">

<div class="container single-page-container">
	<div class="row">
				<div class="nv-single-page-wrap col">
			<div class="nv-page-title-wrap nv-big-title">
	<div class="nv-page-title ">
				<h1>Vision Tracking</h1>
					</div><!--.nv-page-title-->
</div> <!--.nv-page-title-wrap-->
	<div class="nv-content-wrap entry-content">
<p>In this chapter we are going to use the camera to control the Turret to automatically track the target. The class that we will use to connect to the camera is called <strong><a rel="noreferrer noopener" href="../RobotCoreDoc/classrobot_core_1_1_pi_camera.html" target="_blank">PiCamera</a></strong>. Now rather than use the <strong>PiCamera </strong>class directly, we are going to create our own class which will encapsulate the <strong>PiCamera </strong>class and allow us to connect to the camera as well as manage the frame data in an organized way.</p>



<p>Since accessing and manipulating the camera is complex I am going to provide you with code for this <strong>Camera</strong> class which handles the connection to the camera and manages retrieving the frames.</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e99b2725b577377298" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
package robot;

import robotCore.Device;
import robotCore.DigitalOutput;
import robotCore.Logger;
import robotCore.PiCamera;
import robotCore.PiCamera.PiCameraRegion;
import robotCore.PiCamera.PiCameraRegions;

public class Camera {
    // @SuppressWarnings("unused")
    private final static String m_ip = "172.24.1.1";
	private static final int k_pin = Device.M3_2_PWM;

    private final PiCamera m_camera = new PiCamera();
    private final DigitalOutput m_light = new DigitalOutput(k_pin);

    public class CameraFrame
    {
        PiCameraRegions m_regions = m_camera.getRegions();

        /*
         *
         * Returns true if there is at least one region visible
         */
        public boolean isVisible()
        {
            return (m_regions != null) &amp;&amp; (m_regions.getRegionCount() &gt;= 1);
        }

        /*
         * Returns the horizontal center of the first visible region with respect to the
         * horizontal target position set by the image viewer
         * 
         * NOTE: This function should ONLY be called if isVisible returns true
         */
        public int getTargetCenter() {
                PiCameraRegion region = m_regions.getRegion(0);

            // Logger.Log("Camera", 1, String.format("left=%d, right=%d", region.m_topLeft, region.m_topRight));
    
            return ((region.m_bounds.m_left + region.m_bounds.m_right) / 2) - m_regions.m_targetHorzPos;
        }    
    }

    public Camera() {
        m_camera.connect(m_ip, 5800);
    }

    public void setLight(boolean on) {
        Logger.log("Camera", 2, String.format("SetLight: %s", on ? "on" : "off"));

        m_light.set(on);
    }

    public CameraFrame getCurrentFrame()
    {
        return new CameraFrame();
    }
}
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-2">2</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-4">4</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-6">6</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-8">8</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-10">10</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-12">12</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-14">14</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-16">16</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-18">18</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-20">20</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-22">22</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-24">24</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-26">26</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-28">28</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-30">30</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-32">32</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-34">34</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-36">36</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-38">38</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-40">40</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-42">42</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-44">44</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-46">46</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-48">48</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-50">50</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-52">52</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-54">54</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-56">56</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-58">58</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e99b2725b577377298-60">60</div><div class="crayon-num" data-line="crayon-68a3e99b2725b577377298-61">61</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e99b2725b577377298-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-i">robot</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-2">&nbsp;</div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-3"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">Device</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-4"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">DigitalOutput</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-5"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">Logger</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-6"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">PiCamera</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-7"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">PiCamera</span><span class="crayon-sy">.</span><span class="crayon-i">PiCameraRegion</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-8"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">PiCamera</span><span class="crayon-sy">.</span><span class="crayon-i">PiCameraRegions</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-10"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Camera</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// @SuppressWarnings("unused")</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-i">m_ip</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-s">"172.24.1.1"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-13"><span class="crayon-h">	</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-i">k_pin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">Device</span><span class="crayon-sy">.</span><span class="crayon-i">M3_2_PWM</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-14">&nbsp;</div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">PiCamera </span><span class="crayon-i">m_camera</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">PiCamera</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">DigitalOutput </span><span class="crayon-i">m_light</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">DigitalOutput</span><span class="crayon-sy">(</span><span class="crayon-i">k_pin</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">CameraFrame</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">PiCameraRegions </span><span class="crayon-i">m_regions</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">m_camera</span><span class="crayon-sy">.</span><span class="crayon-e">getRegions</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-23"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-24"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * Returns true if there is at least one region visible</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-25"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isVisible</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">m_regions</span><span class="crayon-h"> </span><span class="crayon-sy">!</span>=<span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">&amp;&amp; (m_regions.getRegionCount() &gt;= 1);</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-30">&nbsp;</div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-32"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * Returns the horizontal center of the first visible region with respect to the</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-33"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * horizontal target position set by the image viewer</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-34"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * </span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-35"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * NOTE: This function should ONLY be called if isVisible returns true</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-36"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-e">getTargetCenter</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">PiCameraRegion </span><span class="crayon-i">region</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">m_regions</span><span class="crayon-sy">.</span><span class="crayon-e">getRegion</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Logger.Log("Camera", 1, String.format("left=%d, right=%d", region.m_topLeft, region.m_topRight));</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-i">region</span><span class="crayon-sy">.</span><span class="crayon-i">m_bounds</span><span class="crayon-sy">.</span><span class="crayon-i">m_left</span><span class="crayon-h"> </span>+<span class="crayon-h"> </span><span class="crayon-i">region</span><span class="crayon-sy">.</span><span class="crayon-i">m_bounds</span><span class="crayon-sy">.</span><span class="crayon-i">m_right</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>/<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h"> </span><span class="crayon-i">m_regions</span><span class="crayon-sy">.</span><span class="crayon-i">m_targetHorzPos</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">Camera</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_camera</span><span class="crayon-sy">.</span><span class="crayon-e">connect</span><span class="crayon-sy">(</span><span class="crayon-i">m_ip</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5800</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setLight</span><span class="crayon-sy">(</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-i">on</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">Logger</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Camera"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"SetLight: %s"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">on</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-s">"on"</span><span class="crayon-h"> </span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-s">"off"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-52">&nbsp;</div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_light</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-i">on</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">CameraFrame </span><span class="crayon-e">getCurrentFrame</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">CameraFrame</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e99b2725b577377298-60"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e99b2725b577377298-61">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->




<p>You will also notice that you can control the green <strong>LED</strong> via the <strong>setLight</strong> function. Before we continue you need to create a <strong>Light </strong>command which will let you toggle whether the light is on or off. You will need to use this command in the next section.</p>



<p>Before you can use the camera, you will need to learn how to use the <strong>Image Viewer</strong> to preview the camera image and manage the camera settings. Run the program <strong>ImageViewer2020.cmd</strong> that resides in the <strong>PiUtil</strong> folder and you should see something like:</p>



<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><a href="../wp-content/uploads/2021/04/ViewerAmbientLight.jpg"><img src="../wp-content/uploads/2021/04/ViewerAmbientLight-1024x640.jpg" alt="" class="wp-image-311" width="613" height="382" srcset="../wp-content/uploads/2021/04/ViewerAmbientLight-1024x640.jpg 1024w, ../wp-content/uploads/2021/04/ViewerAmbientLight-300x187.jpg 300w, ../wp-content/uploads/2021/04/ViewerAmbientLight-768x480.jpg 768w, ../wp-content/uploads/2021/04/ViewerAmbientLight.jpg 1124w" sizes="(max-width: 613px) 100vw, 613px"></a></figure></div>



<p>The image shows the view from the camera. Currently we have the camera set to use ambient light, but we will want to change that. The vision system works by matching a specific color. This works best if the your target is the only thing that is emitting that color. To accomplish this we will be using <strong>retroreflective </strong>tape and a <strong>green </strong>light. The retroreflective tape will reflect the green light back in the direction of the camera and we will be able to match that green color.</p>



<p>The first thing we need to do is to set the camera parameters so that the camera can only see light sources (everything else will be black). With the Image Viewer running, change the shutter speed to 1000 and the ISO to 150 and the view should become black:</p>



<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><a href="../wp-content/uploads/2021/04/ViewerBlack.jpg"><img loading="lazy" src="../wp-content/uploads/2021/04/ViewerBlack-1024x640.jpg" alt="" class="wp-image-312" width="628" height="392" srcset="../wp-content/uploads/2021/04/ViewerBlack-1024x640.jpg 1024w, ../wp-content/uploads/2021/04/ViewerBlack-300x187.jpg 300w, ../wp-content/uploads/2021/04/ViewerBlack-768x480.jpg 768w, ../wp-content/uploads/2021/04/ViewerBlack.jpg 1124w" sizes="(max-width: 628px) 100vw, 628px"></a></figure></div>



<p>Now turn on the light using the command you previously created and you should see a green image from the reflective tape:</p>



<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><a href="../wp-content/uploads/2021/04/ViewerGreen.jpg"><img loading="lazy" src="../wp-content/uploads/2021/04/ViewerGreen-1024x640.jpg" alt="" class="wp-image-313" width="637" height="397" srcset="../wp-content/uploads/2021/04/ViewerGreen-1024x640.jpg 1024w, ../wp-content/uploads/2021/04/ViewerGreen-300x187.jpg 300w, ../wp-content/uploads/2021/04/ViewerGreen-768x480.jpg 768w, ../wp-content/uploads/2021/04/ViewerGreen.jpg 1124w" sizes="(max-width: 637px) 100vw, 637px"></a></figure></div>



<p>Next we will adjust the parameters on the right so that the camera system recognizes the target. We recognize the target by looking for a specific color, in this case green. To match the color, we don’t use the <strong>RGB</strong> color space, but rather an alternate <strong>HSV</strong> color space. <strong>HSV</strong> stands for <strong>Hue</strong>, <strong>Saturation</strong>, and <strong>Value</strong>. The <strong>Hue</strong> specifies the actual color (green in this case). The <strong>Saturation</strong> specifies how vivid the color is with a zero saturation being a black and white image and max saturation being the most robust colors. The <strong>Value</strong> specifies how bright the image is.</p>



<p>You can click on any portion of the image and the HSV values for that pixel will be displayed at the bottom. For example in this particular example, a pixel in the green region would show:</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" width="387" height="115" src="../wp-content/uploads/2021/04/HSVValues.jpg" alt="" class="wp-image-316" srcset="../wp-content/uploads/2021/04/HSVValues.jpg 387w, ../wp-content/uploads/2021/04/HSVValues-300x89.jpg 300w" sizes="(max-width: 387px) 100vw, 387px"></figure></div>



<p>Here we can see that the pixel at position <strong>(334, 251)</strong> has a <strong>Hue</strong> of <strong>85</strong>, a <strong>Saturation</strong> of <strong>255 </strong>and a <strong>Value</strong> of <strong>223</strong>. We can then set ranges for those values on the right and we should get the following:</p>



<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><a href="../wp-content/uploads/2021/04/ViewerTarget.jpg"><img loading="lazy" src="../wp-content/uploads/2021/04/ViewerTarget-1024x640.jpg" alt="" class="wp-image-317" width="646" height="403" srcset="../wp-content/uploads/2021/04/ViewerTarget-1024x640.jpg 1024w, ../wp-content/uploads/2021/04/ViewerTarget-300x187.jpg 300w, ../wp-content/uploads/2021/04/ViewerTarget-768x480.jpg 768w, ../wp-content/uploads/2021/04/ViewerTarget.jpg 1124w" sizes="(max-width: 646px) 100vw, 646px"></a></figure></div>



<p>In this image, the camera has replaced any green pixels that match the color settings on the right with blue pixels. In addition a bounding box for the image is computed and displayed as a green box. The vertical green line shows the center of the bounding box for the image. You will also notice a vertical red line. The position of this line can be adjusted by changing the <strong>Center Line</strong> field on the right. We will later use this line to allow us to fine tune the centering of the <strong>Turret</strong>.</p>



<p>Now you are ready to create your <strong>Track Target</strong> command. The basic idea is to call the <strong>getCurrentFrame()</strong> function within the <strong>execute()</strong> function of your command to retrieve the current frame from the camera. Then call <strong>getTargetCenter()</strong> to get the offset of the center of the target from the <strong>Center Line</strong> as set by the <strong>Image Viewer</strong>.  And then set the power of the <strong>Turret</strong> motor based on how far off of the center the target is. The further off, the more power you should use. You power calculation should be something like:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e99b27262945829403" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
  power = kp * getTargetCenter();</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e99b27262945829403-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e99b27262945829403-1"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">power</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-e ">kp *</span><span class="crayon-h"> </span><span class="crayon-e">getTargetCenter</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->




<p>Here you will need adjust the value of <strong>kp</strong> as you did for the <strong>P</strong> parameter when tuning the motor speeds. You will probably find that you will also need to add a <strong>dead zone</strong> to keep the camera from oscillating. This would be a small region around the center line where you turn the motor off. Note that since we are measuring the offset of the center of the bounding box from the red <strong>Center Line</strong>, we can control the position of that line from the <strong>Image Viewer</strong> and fine tune the shot.</p>



<p>Remember, you should <strong>not</strong> call <strong>getTargetCenter()</strong> until you have checked to see that the target is visible by calling <strong>isVisible()</strong>. If you find that you can no longer see the target then you should stop the motor.</p>



<p>Finally, you should turn on the LED in your <strong>initialize()</strong> function and turn it off, along with the motor, in your <strong>end()</strong> function. You will also need to tie this command to a toggle button which lets you turn tracking on and off.</p>



<p><a href="../path-following/index.htm" data-type="page" data-id="1399">Next: Path Planning</a></p>
</div>		</div>
		<div class="nv-sidebar-wrap col-sm-12 nv-right blog-sidebar ">
		<aside id="secondary" role="complementary">
		
		<div id="nav_menu-4" class="widget widget_nav_menu"><p class="widget-title">Chapter</p><div class="menu-nerfbot-container"><ul id="menu-nerfbot" class="menu"><li id="menu-item-259" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-259"><a href="../nerfbot/index.htm">Nerfbot</a></li>
<li id="menu-item-263" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-263"><a href="../drive-subsystem-2/index.htm">Drive Subsystem</a></li>
<li id="menu-item-275" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-275"><a href="../shooter-subsystem/index.htm">Shooter Subsystem</a></li>
<li id="menu-item-293" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-293"><a href="../feeder-subsystem/index.htm">Feeder Subsystem</a></li>
<li id="menu-item-300" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-300"><a href="../turret-subsystem/index.htm">Turret Subsystem</a></li>
<li id="menu-item-2270" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2270"><a href="../navigation/index.htm">Navigation</a></li>
<li id="menu-item-308" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-306 current_page_item menu-item-308"><a href="index.htm" aria-current="page">Vision Tracking</a></li>
<li id="menu-item-1401" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1401"><a href="../path-following/index.htm">Path Planning</a></li>
<li id="menu-item-1467" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1467"><a href="../path-following-2/index.htm">Path Following</a></li>
<li id="menu-item-1649" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1649"><a href="../final-challenge/index.htm">Final Challenge</a></li>
<li id="menu-item-265" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-265"><a href="../RobotCoreDoc/annotated.html">RobotCore Documentation</a></li>
</ul></div></div>
			</aside>
</div>
	</div>
</div>

</main><!--/.neve-main-->

<footer class="site-footer" id="site-footer" next-page-hide="">
	<div class="hfg_footer">
		<div class="footer--row footer-bottom layout-full-contained" id="cb-row--footer-bottom" data-row-id="bottom" data-show-on="desktop">
	<div class="footer--row-inner footer-bottom-inner footer-content-wrap">
		<div class="container">
			<div class="hfg-grid nv-footer-content hfg-grid-bottom row--wrapper row " data-section="hfg_footer_layout_bottom">
				<div class="hfg-slot left"><div class="builder-item desktop-left tablet-left mobile-left"><div class="item--inner builder-item--footer_copyright" data-section="footer_copyright" data-item-id="footer_copyright">
	<div class="component-wrap">
	<div>
		<p>Copyright  © 2024 John Gaby</p>	</div>
</div>

	</div>

</div></div><div class="hfg-slot c-left"></div><div class="hfg-slot center"><div class="builder-item desktop-right tablet-left mobile-left"><div class="item--inner builder-item--footer-one-widgets" data-section="neve_sidebar-widgets-footer-one-widgets" data-item-id="footer-one-widgets">
		<div class="widget-area">
		<div id="block-3" class="widget widget_block"><a href="http://programming.team2102.org/about/" data-type="page" data-id="3607"><strong>About</strong></a></div>	</div>
	</div>

</div></div>							</div>
		</div>
	</div>
</div>

	</div>
</footer>

</div><!--/.wrapper-->
<script type='text/javascript' id='neve-script-js-extra'>
/* <![CDATA[ */
var NeveProperties = {"ajaxurl":"http:\/\/gabybot.com\/wp-admin\/admin-ajax.php","nonce":"23d8ab93e4","isRTL":"","isCustomize":""};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/neve/assets/js/build/modern/frontend.js?ver=3.2.0' id='neve-script-js' async=""></script>
<script type='text/javascript' id='neve-script-js-after'>
	var html = document.documentElement;
	var theme = html.getAttribute('data-neve-theme') || 'light';
	var variants = {"logo":{"light":{"src":false,"srcset":false,"sizes":false},"dark":{"src":false,"srcset":false,"sizes":false},"same":true}};

	function setCurrentTheme( theme ) {
		var pictures = document.getElementsByClassName( 'neve-site-logo' );
		for(var i = 0; i<pictures.length; i++) {
			var picture = pictures.item(i);
			if( ! picture ) {
				continue;
			};
			var fileExt = picture.src.slice((Math.max(0, picture.src.lastIndexOf(".")) || Infinity) + 1);
			if ( fileExt === 'svg' ) {
				picture.removeAttribute('width');
				picture.removeAttribute('height');
				picture.style = 'width: var(--maxWidth)';
			}
			var compId = picture.getAttribute('data-variant');
			if ( compId && variants[compId] ) {
				var isConditional = variants[compId]['same'];
				if ( theme === 'light' || isConditional || variants[compId]['dark']['src'] === false ) {
					picture.src = variants[compId]['light']['src'];
					picture.srcset = variants[compId]['light']['srcset'] || '';
					picture.sizes = variants[compId]['light']['sizes'];
					continue;
				};
				picture.src = variants[compId]['dark']['src'];
				picture.srcset = variants[compId]['dark']['srcset'] || '';
				picture.sizes = variants[compId]['dark']['sizes'];
			};
		};
	};

	var observer = new MutationObserver(function(mutations) {
		mutations.forEach(function(mutation) {
			if (mutation.type == 'attributes') {
				theme = html.getAttribute('data-neve-theme');
				setCurrentTheme(theme);
			};
		});
	});

	observer.observe(html, {
		attributes: true
	});
</script>
<script type='text/javascript' src='../wp-includes/js/comment-reply.min.js?ver=5.9.2' id='comment-reply-js'></script>
</body>

</html>
