<!DOCTYPE html>
<html lang="en-US">

<head>
	
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<title>Arcade Drive &#8211; Robotics Programming</title>
<meta name='robots' content='max-image-preview:large'>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="Robotics Programming &raquo; Feed" href="../feed/index.htm">
<link rel="alternate" type="application/rss+xml" title="Robotics Programming &raquo; Comments Feed" href="../comments/feed/index.htm">
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/gabybot.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.9.2"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='crayon-css' href='../wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-theme-classic-css' href='../wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-font-monaco-css' href='../wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css?ver=5.9.2' type='text/css' media='all'>
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--neve-link-color: var(--nv-primary-accent);--wp--preset--color--neve-link-hover-color: var(--nv-secondary-accent);--wp--preset--color--nv-site-bg: var(--nv-site-bg);--wp--preset--color--nv-light-bg: var(--nv-light-bg);--wp--preset--color--nv-dark-bg: var(--nv-dark-bg);--wp--preset--color--neve-text-color: var(--nv-text-color);--wp--preset--color--nv-text-dark-bg: var(--nv-text-dark-bg);--wp--preset--color--nv-c-1: var(--nv-c-1);--wp--preset--color--nv-c-2: var(--nv-c-2);--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='neve-style-css' href='../wp-content/themes/neve/style-main-new.min.css?ver=3.2.0' type='text/css' media='all'>
<style id='neve-style-inline-css' type='text/css'>
.nv-meta-list li.meta:not(:last-child):after { content:"/" }
 :root{ --container: 748px;--postWidth:100%; --primaryBtnBg: var(--nv-primary-accent); --primaryBtnHoverBg: var(--nv-primary-accent); --primaryBtnColor: #ffffff; --secondaryBtnColor: var(--nv-primary-accent); --primaryBtnHoverColor: #ffffff; --secondaryBtnHoverColor: var(--nv-primary-accent);--primaryBtnBorderRadius:3px;--secondaryBtnBorderRadius:3px;--secondaryBtnBorderWidth:3px;--btnPadding:13px 15px;--primaryBtnPadding:13px 15px;--secondaryBtnPadding:10px 12px; --bodyFontFamily: Arial,Helvetica,sans-serif; --bodyFontSize: 15px; --bodyLineHeight: 1.6; --bodyLetterSpacing: 0px; --bodyFontWeight: 400; --h1FontSize: 36px; --h1FontWeight: 700; --h1LineHeight: 1.2; --h1LetterSpacing: 0px; --h1TextTransform: none; --h2FontSize: 28px; --h2FontWeight: 700; --h2LineHeight: 1.3; --h2LetterSpacing: 0px; --h2TextTransform: none; --h3FontSize: 24px; --h3FontWeight: 700; --h3LineHeight: 1.4; --h3LetterSpacing: 0px; --h3TextTransform: none; --h4FontSize: 20px; --h4FontWeight: 700; --h4LineHeight: 1.6; --h4LetterSpacing: 0px; --h4TextTransform: none; --h5FontSize: 16px; --h5FontWeight: 700; --h5LineHeight: 1.6; --h5LetterSpacing: 0px; --h5TextTransform: none; --h6FontSize: 14px; --h6FontWeight: 700; --h6LineHeight: 1.6; --h6LetterSpacing: 0px; --h6TextTransform: none;--formFieldBorderWidth:2px;--formFieldBorderRadius:3px; --formFieldBgColor: var(--nv-site-bg); --formFieldBorderColor: #dddddd; --formFieldColor: var(--nv-text-color);--formFieldPadding:10px 12px; } .single-post-container .alignfull > [class*="__inner-container"], .single-post-container .alignwide > [class*="__inner-container"]{ max-width:718px } .nv-meta-list{ --avatarSize: 20px; } .single .nv-meta-list{ --avatarSize: 20px; } .nv-post-cover{ --height: 250px;--padding:40px 15px;--justify: flex-start; --textAlign: left; --vAlign: center; } .nv-post-cover .nv-title-meta-wrap, .nv-page-title-wrap, .entry-header{ --textAlign: left; } .nv-is-boxed.nv-title-meta-wrap{ --padding:40px 15px; --bgColor: var(--nv-dark-bg); } .nv-overlay{ --opacity: 50; --blendMode: normal; } .nv-is-boxed.nv-comments-wrap{ --padding:20px; } .nv-is-boxed.comment-respond{ --padding:20px; } .global-styled{ --bgColor: var(--nv-site-bg); } .header-top{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-main{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-bottom{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-menu-sidebar-bg{ --justify: flex-start; --textAlign: left;--flexG: 1; --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .header-menu-sidebar{ width: 360px; } .builder-item--logo{ --maxWidth: 120px;--padding:10px 0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--nav-icon,.header-menu-sidebar .close-sidebar-panel .navbar-toggle{ --borderRadius:0; } .builder-item--nav-icon{ --padding:10px 15px;--margin:0; } .builder-item--primary-menu{ --hoverColor: var(--nv-secondary-accent); --activeColor: var(--nv-primary-accent); --spacing: 20px; --height: 25px;--padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --fontWeight: 500; --textTransform: none; --iconSize: 1em; } .hfg-is-group.has-primary-menu .inherit-ff{ --inheritedFW: 500; } .footer-top-inner .row{ grid-template-columns:1fr 1fr 1fr; --vAlign: flex-start; } .footer-top{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .footer-main-inner .row{ grid-template-columns:1fr 1fr 1fr; --vAlign: flex-start; } .footer-main{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-color); --bgColor: var(--nv-site-bg); } .footer-bottom-inner .row{ grid-template-columns:1fr 1fr 1fr; --vAlign: flex-start; } .footer-bottom{ --rowBColor: var(--nv-light-bg); --color: var(--nv-text-dark-bg); --bgColor: var(--nv-dark-bg); } .builder-item--footer-one-widgets{ --padding:0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--footer_copyright{ --padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --fontWeight: 500; --textTransform: none; --iconSize: 1em; --textAlign: left;--justify: flex-start; } @media(min-width: 576px){ :root{ --container: 992px;--postWidth:50%;--btnPadding:13px 15px;--primaryBtnPadding:13px 15px;--secondaryBtnPadding:10px 12px; --bodyFontSize: 16px; --bodyLineHeight: 1.6; --bodyLetterSpacing: 0px; --h1FontSize: 38px; --h1LineHeight: 1.2; --h1LetterSpacing: 0px; --h2FontSize: 30px; --h2LineHeight: 1.2; --h2LetterSpacing: 0px; --h3FontSize: 26px; --h3LineHeight: 1.4; --h3LetterSpacing: 0px; --h4FontSize: 22px; --h4LineHeight: 1.5; --h4LetterSpacing: 0px; --h5FontSize: 18px; --h5LineHeight: 1.6; --h5LetterSpacing: 0px; --h6FontSize: 14px; --h6LineHeight: 1.6; --h6LetterSpacing: 0px; } .single-post-container .alignfull > [class*="__inner-container"], .single-post-container .alignwide > [class*="__inner-container"]{ max-width:962px } .nv-meta-list{ --avatarSize: 20px; } .single .nv-meta-list{ --avatarSize: 20px; } .nv-post-cover{ --height: 320px;--padding:60px 30px;--justify: flex-start; --textAlign: left; --vAlign: center; } .nv-post-cover .nv-title-meta-wrap, .nv-page-title-wrap, .entry-header{ --textAlign: left; } .nv-is-boxed.nv-title-meta-wrap{ --padding:60px 30px; } .nv-is-boxed.nv-comments-wrap{ --padding:30px; } .nv-is-boxed.comment-respond{ --padding:30px; } .header-menu-sidebar-bg{ --justify: flex-start; --textAlign: left;--flexG: 1; } .header-menu-sidebar{ width: 360px; } .builder-item--logo{ --maxWidth: 120px;--padding:10px 0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--nav-icon{ --padding:10px 15px;--margin:0; } .builder-item--primary-menu{ --spacing: 20px; --height: 25px;--padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; } .builder-item--footer-one-widgets{ --padding:0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--footer_copyright{ --padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; --textAlign: left;--justify: flex-start; } }@media(min-width: 960px){ :root{ --container: 1170px;--postWidth:33.333333333333%;--btnPadding:13px 15px;--primaryBtnPadding:13px 15px;--secondaryBtnPadding:10px 12px; --bodyFontSize: 16px; --bodyLineHeight: 1.7; --bodyLetterSpacing: 0px; --h1FontSize: 40px; --h1LineHeight: 1.1; --h1LetterSpacing: 0px; --h2FontSize: 32px; --h2LineHeight: 1.2; --h2LetterSpacing: 0px; --h3FontSize: 28px; --h3LineHeight: 1.4; --h3LetterSpacing: 0px; --h4FontSize: 24px; --h4LineHeight: 1.5; --h4LetterSpacing: 0px; --h5FontSize: 20px; --h5LineHeight: 1.6; --h5LetterSpacing: 0px; --h6FontSize: 16px; --h6LineHeight: 1.6; --h6LetterSpacing: 0px; } body:not(.single):not(.archive):not(.blog):not(.search):not(.error404) .neve-main > .container .col, body.post-type-archive-course .neve-main > .container .col, body.post-type-archive-llms_membership .neve-main > .container .col{ max-width: 75%; } body:not(.single):not(.archive):not(.blog):not(.search):not(.error404) .nv-sidebar-wrap, body.post-type-archive-course .nv-sidebar-wrap, body.post-type-archive-llms_membership .nv-sidebar-wrap{ max-width: 25%; } .neve-main > .archive-container .nv-index-posts.col{ max-width: 100%; } .neve-main > .archive-container .nv-sidebar-wrap{ max-width: 0%; } .neve-main > .single-post-container .nv-single-post-wrap.col{ max-width: 70%; } .single-post-container .alignfull > [class*="__inner-container"], .single-post-container .alignwide > [class*="__inner-container"]{ max-width:789px } .container-fluid.single-post-container .alignfull > [class*="__inner-container"], .container-fluid.single-post-container .alignwide > [class*="__inner-container"]{ max-width:calc(70% + 15px) } .neve-main > .single-post-container .nv-sidebar-wrap{ max-width: 30%; } .nv-meta-list{ --avatarSize: 20px; } .single .nv-meta-list{ --avatarSize: 20px; } .nv-post-cover{ --height: 400px;--padding:60px 40px;--justify: flex-start; --textAlign: left; --vAlign: center; } .nv-post-cover .nv-title-meta-wrap, .nv-page-title-wrap, .entry-header{ --textAlign: left; } .nv-is-boxed.nv-title-meta-wrap{ --padding:60px 40px; } .nv-is-boxed.nv-comments-wrap{ --padding:40px; } .nv-is-boxed.comment-respond{ --padding:40px; } .header-menu-sidebar-bg{ --justify: flex-start; --textAlign: left;--flexG: 1; } .header-menu-sidebar{ width: 360px; } .builder-item--logo{ --maxWidth: 120px;--padding:10px 0;--margin:0; --textAlign: left;--justify: flex-start; } .builder-item--nav-icon{ --padding:10px 15px;--margin:0; } .builder-item--primary-menu{ --spacing: 20px; --height: 25px;--padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; } .builder-item--footer-one-widgets{ --padding:0;--margin:0; --textAlign: right;--justify: flex-end; } .builder-item--footer_copyright{ --padding:0;--margin:0; --fontSize: 1em; --lineHeight: 1.6; --letterSpacing: 0px; --iconSize: 1em; --textAlign: left;--justify: flex-start; } }:root{--nv-primary-accent:#2f5aae;--nv-secondary-accent:#2f5aae;--nv-site-bg:#ffffff;--nv-light-bg:#f4f5f7;--nv-dark-bg:#121212;--nv-text-color:#272626;--nv-text-dark-bg:#ffffff;--nv-c-1:#9463ae;--nv-c-2:#be574b;--nv-fallback-ff:Arial, Helvetica, sans-serif;}
</style>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' id='crayon_js-js-extra'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/gabybot.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta' id='crayon_js-js'></script>
<link rel="https://api.w.org/" href="../wp-json/index.htm"><link rel="alternate" type="application/json" href="../wp-json/wp/v2/pages/2875"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://gabybot.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.9.2">
<link rel="canonical" href="index.htm">
<link rel='shortlink' href='index.htm?p=2875'>
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed-63?url=http%3A%2F%2Fgabybot.com%2Farcade-drive-2%2F">
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed-64?url=http%3A%2F%2Fgabybot.com%2Farcade-drive-2%2F&#038;format=xml">

	</head>

<body class="page-template-default page page-id-2875  nv-blog-grid nv-sidebar-right menu_sidebar_slide_left" id="neve_body">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0.49803921568627"></fefuncr><fefuncg type="table" tablevalues="0 0.49803921568627"></fefuncg><fefuncb type="table" tablevalues="0 0.49803921568627"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.54901960784314 0.98823529411765"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.71764705882353 0.25490196078431"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 0.27843137254902"></fefuncg><fefuncb type="table" tablevalues="0.5921568627451 0.27843137254902"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0"></fefuncr><fefuncg type="table" tablevalues="0 0.64705882352941"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.78039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.94901960784314"></fefuncg><fefuncb type="table" tablevalues="0.35294117647059 0.47058823529412"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.65098039215686 0.40392156862745"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.44705882352941 0.4"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.098039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.66274509803922"></fefuncg><fefuncb type="table" tablevalues="0.84705882352941 0.41960784313725"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><div class="wrapper">
	
	<header class="header" role="banner" next-page-hide="">
		<a class="neve-skip-link show-on-focus" href="#content">
			Skip to content		</a>
		<div id="header-grid" class="hfg_header site-header">
	
<nav class="header--row header-main hide-on-mobile hide-on-tablet layout-full-contained nv-navbar header--row" data-row-id="main" data-show-on="desktop">

	<div class="header--row-inner header-main-inner">
		<div class="container">
			<div class="row row--wrapper" data-section="hfg_header_layout_main">
				<div class="hfg-slot left"><div class="builder-item desktop-left"><div class="item--inner builder-item--logo" data-section="title_tagline" data-item-id="logo">
	
<div class="site-logo">
	<a class="brand" href="../index.htm" title="Robotics Programming" aria-label="Robotics Programming"><div class="nv-title-tagline-wrap"><p class="site-title">Robotics Programming</p><small>Team 2102 programming tutorials</small></div></a></div>

	</div>

</div></div><div class="hfg-slot right"><div class="builder-item has-nav"><div class="item--inner builder-item--primary-menu has_menu" data-section="header_menu_primary" data-item-id="primary-menu">
	<div class="nv-nav-wrap">
	<div role="navigation" class="style-plain nav-menu-primary" aria-label="Primary Menu">

		<ul id="nv-primary-navigation-main" class="primary-menu-ul nav-ul"><li id="menu-item-16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-16"><a href="../index.htm">HOME</a></li>
<li id="menu-item-26" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="../robot-java/index.htm">Minibot</a></li>
<li id="menu-item-254" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-254"><a href="../nerfbot/index.htm">Nerfbot</a></li>
<li id="menu-item-2723" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2723"><a href="../swervebot/index.htm">SwerveBot</a></li>
<li id="menu-item-333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-333"><a href="../more/index.htm">More</a></li>
</ul>	</div>
</div>

	</div>

</div></div>							</div>
		</div>
	</div>
</nav>


<nav class="header--row header-main hide-on-desktop layout-full-contained nv-navbar header--row" data-row-id="main" data-show-on="mobile">

	<div class="header--row-inner header-main-inner">
		<div class="container">
			<div class="row row--wrapper" data-section="hfg_header_layout_main">
				<div class="hfg-slot left"><div class="builder-item tablet-left mobile-left"><div class="item--inner builder-item--logo" data-section="title_tagline" data-item-id="logo">
	
<div class="site-logo">
	<a class="brand" href="../index.htm" title="Robotics Programming" aria-label="Robotics Programming"><div class="nv-title-tagline-wrap"><p class="site-title">Robotics Programming</p><small>Team 2102 programming tutorials</small></div></a></div>

	</div>

</div></div><div class="hfg-slot right"><div class="builder-item tablet-left mobile-left"><div class="item--inner builder-item--nav-icon" data-section="header_menu_icon" data-item-id="nav-icon">
	<div class="menu-mobile-toggle item-button navbar-toggle-wrapper">
	<button type="button" class=" navbar-toggle" value="Navigation Menu" aria-label="Navigation Menu ">
					<span class="bars">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</span>
					<span class="screen-reader-text">Navigation Menu</span>
	</button>
</div> <!--.navbar-toggle-wrapper-->


	</div>

</div></div>							</div>
		</div>
	</div>
</nav>

<div id="header-menu-sidebar" class="header-menu-sidebar menu-sidebar-panel slide_left" data-row-id="sidebar">
	<div id="header-menu-sidebar-bg" class="header-menu-sidebar-bg">
		<div class="close-sidebar-panel navbar-toggle-wrapper">
			<button type="button" class="hamburger is-active  navbar-toggle active" value="Navigation Menu" aria-label="Navigation Menu ">
									<span class="bars">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</span>
									<span class="screen-reader-text">
				Navigation Menu					</span>
			</button>
		</div>
		<div id="header-menu-sidebar-inner" class="header-menu-sidebar-inner ">
						<div class="builder-item has-nav"><div class="item--inner builder-item--primary-menu has_menu" data-section="header_menu_primary" data-item-id="primary-menu">
	<div class="nv-nav-wrap">
	<div role="navigation" class="style-plain nav-menu-primary" aria-label="Primary Menu">

		<ul id="nv-primary-navigation-sidebar" class="primary-menu-ul nav-ul"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-16"><a href="../index.htm">HOME</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="../robot-java/index.htm">Minibot</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-254"><a href="../nerfbot/index.htm">Nerfbot</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2723"><a href="../swervebot/index.htm">SwerveBot</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-333"><a href="../more/index.htm">More</a></li>
</ul>	</div>
</div>

	</div>

</div>					</div>
	</div>
</div>
<div class="header-menu-sidebar-overlay hfg-ov"></div>
</div>
	</header>

	

	
	<main id="content" class="neve-main" role="main">

<div class="container single-page-container">
	<div class="row">
				<div class="nv-single-page-wrap col">
			<div class="nv-page-title-wrap nv-big-title">
	<div class="nv-page-title ">
				<h1>Arcade Drive</h1>
					</div><!--.nv-page-title-->
</div> <!--.nv-page-title-wrap-->
	<div class="nv-content-wrap entry-content">
<p>It is time to create the <strong>ArcadeDrive </strong>command which will allow you to drive the robot using a <strong>joystick </strong>or <strong>XBox controller</strong>. As you might guess, the <strong>ArcadeDrive </strong>command for a swerve robot is a fair bit more complicated that that of the <strong>Minibot</strong>,<strong> </strong>but, fear not, as most of the heavy lifting is provided by <strong>wpilib</strong>.</p>



<p>We are going to start by using the following <strong>drive </strong>function which is provided by <strong>wpilib</strong>. This function should be added to the <strong>DriveSubsystem</strong>.</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41eac5019160069" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
  /**
   * Method to drive the robot using joystick info.
   *
   * @param xSpeed        Speed of the robot in the x direction (forward).
   * @param ySpeed        Speed of the robot in the y direction (sideways).
   * @param rot           Angular rate of the robot.
   * @param fieldRelative Whether the provided x and y speeds are relative to the
   *                      field.
   */
  public void drive(double xSpeed, double ySpeed, double rot, boolean fieldRelative, double periodSeconds) {
    SwerveModuleState[] swerveModuleStates = m_kinematics.toSwerveModuleStates(
        ChassisSpeeds.discretize(
            fieldRelative
                ? ChassisSpeeds.fromFieldRelativeSpeeds(
                    xSpeed, ySpeed, rot, m_gyro.getRotation2d())
                : new ChassisSpeeds(xSpeed, ySpeed, rot),
            periodSeconds));

    setModuleStates(swerveModuleStates);
  }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-4">4</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-6">6</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-8">8</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-10">10</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-12">12</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-14">14</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-16">16</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-18">18</div><div class="crayon-num" data-line="crayon-68a3e9a41eac5019160069-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eac5019160069-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-1"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-2"><span class="crayon-c">&nbsp;&nbsp; * Method to drive the robot using joystick info.</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-3"><span class="crayon-c">&nbsp;&nbsp; *</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-4"><span class="crayon-c">&nbsp;&nbsp; * @param xSpeed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Speed of the robot in the x direction (forward).</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-5"><span class="crayon-c">&nbsp;&nbsp; * @param ySpeed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Speed of the robot in the y direction (sideways).</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-6"><span class="crayon-c">&nbsp;&nbsp; * @param rot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Angular rate of the robot.</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-7"><span class="crayon-c">&nbsp;&nbsp; * @param fieldRelative Whether the provided x and y speeds are relative to the</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-8"><span class="crayon-c">&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field.</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-9"><span class="crayon-c">&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">drive</span><span class="crayon-sy">(</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">xSpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">ySpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">rot</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-i">fieldRelative</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">periodSeconds</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">SwerveModuleState</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">swerveModuleStates</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">m_kinematics</span><span class="crayon-sy">.</span><span class="crayon-e">toSwerveModuleStates</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">ChassisSpeeds</span><span class="crayon-sy">.</span><span class="crayon-e">discretize</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">fieldRelative</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-i">ChassisSpeeds</span><span class="crayon-sy">.</span><span class="crayon-e">fromFieldRelativeSpeeds</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">xSpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">ySpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">rot</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">m_gyro</span><span class="crayon-sy">.</span><span class="crayon-e">getRotation2d</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">ChassisSpeeds</span><span class="crayon-sy">(</span><span class="crayon-i">xSpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">ySpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">rot</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">periodSeconds</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-18">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41eac5019160069-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setModuleStates</span><span class="crayon-sy">(</span><span class="crayon-i">swerveModuleStates</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eac5019160069-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->




<p>This takes as input the desired speed in the <strong>x </strong>and <strong>y </strong>directions (in <strong>meters/sec</strong>) and the desired <strong>angular </strong>rate of rotation (in <strong>radians/sec</strong>) and sets the module states to get the robot to drive and rotate as required. This function also takes a boolean <strong>fieldRelative </strong>which specifies whether the speeds are <strong>relative </strong>to the current orientation of the robot or <strong>absolute </strong>with respect to the field.</p>



<p>Now to make this work we are going to need to implement a number of things. The first thing we see is that it uses a variable <strong>m_kinematics </strong>which is an instance of <a href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_drive_kinematics.html" target="_blank" rel="noreferrer noopener">SwerveDriveKinematics</a> and is declared like this:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41eacc166638601" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
  private final Translation2d m_frontLeftLocation = new Translation2d(0.05842, 0.05842);
  private final Translation2d m_backLeftLocation = new Translation2d(-0.05842, 0.05842);
  private final Translation2d m_backRightLocation = new Translation2d(-0.05842, -0.05842);
  private final Translation2d m_frontRightLocation = new Translation2d(0.05842, -0.05842);

  private final SwerveDriveKinematics m_kinematics = new SwerveDriveKinematics(
      m_frontLeftLocation, m_backLeftLocation, m_backRightLocation, m_frontRightLocation);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41eacc166638601-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eacc166638601-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41eacc166638601-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eacc166638601-4">4</div><div class="crayon-num" data-line="crayon-68a3e9a41eacc166638601-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eacc166638601-6">6</div><div class="crayon-num" data-line="crayon-68a3e9a41eacc166638601-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41eacc166638601-1"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d </span><span class="crayon-i">m_frontLeftLocation</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d</span><span class="crayon-sy">(</span><span class="crayon-cn">0.05842</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.05842</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eacc166638601-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d </span><span class="crayon-i">m_backLeftLocation</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d</span><span class="crayon-sy">(</span>-<span class="crayon-cn">0.05842</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.05842</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41eacc166638601-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d </span><span class="crayon-i">m_backRightLocation</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d</span><span class="crayon-sy">(</span>-<span class="crayon-cn">0.05842</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>-<span class="crayon-cn">0.05842</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eacc166638601-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d </span><span class="crayon-i">m_frontRightLocation</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Translation2d</span><span class="crayon-sy">(</span><span class="crayon-cn">0.05842</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>-<span class="crayon-cn">0.05842</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41eacc166638601-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eacc166638601-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">SwerveDriveKinematics </span><span class="crayon-i">m_kinematics</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">SwerveDriveKinematics</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-68a3e9a41eacc166638601-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_frontLeftLocation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">m_backLeftLocation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">m_backRightLocation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">m_frontRightLocation</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->




<p>The constructor for this class takes the physical positions (in <strong>meters</strong>) of the swerve wheels with respect to the center of the robot. Pay close attention to the order of these parameters. There will be a number of places where you will see a list such as this and the order must always be the same.</p>



<p>Now in order to move relative to the field, we will need to know the current orientation of the robot. To do this we will need to add a <a href="../RobotCoreDoc/classrobot_core_1_1_gyro.html" target="_blank" rel="noreferrer noopener">Gyro</a>:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41eace382887792" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
  private final Gyro m_gyro = new Gyro();</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41eace382887792-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41eace382887792-1"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">Gyro </span><span class="crayon-i">m_gyro</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->




<p>Note that, for the moment, we will be computing the robot&#8217;s orientation solely from the <strong>gyro</strong>. Later, when we add a <strong>camera</strong>, we will want to incorporate the camera information to correct for gyro drift and this call will need to be changed. Also be sure to <a href="../RobotCoreDoc/classrobot_core_1_1_gyro.html#a023315318dc6df56ff4fea418e9653c5">reset</a> the <strong>gyro </strong>at startup by adding this to the <strong>DriveSubsystem </strong>constructor:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41ead0153902454" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    m_gyro.reset(0);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41ead0153902454-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41ead0153902454-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_gyro</span><span class="crayon-sy">.</span><span class="crayon-e">reset</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->




<p>Note that once you create an instance of the <strong>gyro</strong>, there will be a gyro initialization process that happens on startup. The output to the console will look like:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41ead1121635666" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
3655:Robot(3):robotInit()
3699:ExampleSubsystem(3):ExampleSubsystem()
3704:Gyro(1):Wait for initialization...
4709:Gyro(1):Waiting for gyro: state = 0
5713:Gyro(1):Waiting for gyro: state = 0
6716:Gyro(1):Waiting for gyro: state = 0
7720:Gyro(1):Waiting for gyro: state = 0
8724:Gyro(1):Waiting for gyro: state = 0
9729:Gyro(1):Waiting for gyro: state = 1
11511:DriveSubsystem(3):DriveSubsystem()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41ead1121635666-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead1121635666-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41ead1121635666-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead1121635666-4">4</div><div class="crayon-num" data-line="crayon-68a3e9a41ead1121635666-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead1121635666-6">6</div><div class="crayon-num" data-line="crayon-68a3e9a41ead1121635666-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead1121635666-8">8</div><div class="crayon-num" data-line="crayon-68a3e9a41ead1121635666-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead1121635666-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41ead1121635666-1"><span class="crayon-cn">3655</span><span class="crayon-sy">:</span><span class="crayon-e">Robot</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">robotInit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead1121635666-2"><span class="crayon-cn">3699</span><span class="crayon-sy">:</span><span class="crayon-e">ExampleSubsystem</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">ExampleSubsystem</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-68a3e9a41ead1121635666-3"><span class="crayon-cn">3704</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Wait </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">initialization</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead1121635666-4"><span class="crayon-cn">4709</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-68a3e9a41ead1121635666-5"><span class="crayon-cn">5713</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead1121635666-6"><span class="crayon-cn">6716</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-68a3e9a41ead1121635666-7"><span class="crayon-cn">7720</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead1121635666-8"><span class="crayon-cn">8724</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-68a3e9a41ead1121635666-9"><span class="crayon-cn">9729</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead1121635666-10"><span class="crayon-cn">11511</span><span class="crayon-sy">:</span><span class="crayon-e">DriveSubsystem</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">DriveSubsystem</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->




<p>You will need to wait until the initialization is complete before you can connect to the robot. Occasionally this initialization will <strong>fail </strong>and you will see a state of <strong>-1</strong>:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41ead3695011325" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
3406:ExampleSubsystem(3):ExampleSubsystem()
3410:Gyro(1):Wait for initialization...
4412:Gyro(1):Waiting for gyro: state = 0
5416:Gyro(1):Waiting for gyro: state = -1
5416:Gyro(1):Init failed, retrying...
6420:Gyro(1):Waiting for gyro: state = 0</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41ead3695011325-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead3695011325-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41ead3695011325-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead3695011325-4">4</div><div class="crayon-num" data-line="crayon-68a3e9a41ead3695011325-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead3695011325-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41ead3695011325-1"><span class="crayon-cn">3406</span><span class="crayon-sy">:</span><span class="crayon-e">ExampleSubsystem</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">ExampleSubsystem</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead3695011325-2"><span class="crayon-cn">3410</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Wait </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">initialization</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead3695011325-3"><span class="crayon-cn">4412</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead3695011325-4"><span class="crayon-cn">5416</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span>-<span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-68a3e9a41ead3695011325-5"><span class="crayon-cn">5416</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Init </span><span class="crayon-i">failed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">retrying</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead3695011325-6"><span class="crayon-cn">6420</span><span class="crayon-sy">:</span><span class="crayon-e">Gyro</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">:</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">gyro</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->




<p>The system will try and retry the initialization but this always fails so if this happens you need to stop your program and restart it.</p>



<p>Now the function <a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_drive_kinematics.html#a51287be514d61be18813f7f2e0794731" target="_blank">toSwerveModuleStates</a> performs the complicated calculations required to set the position and velocity of all of the four wheels in order to move in the desired way. The output of this function is an array of <a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html" target="_blank">SwerveModuleState</a> with one value for each of the wheels. Note that the order of these states will be the same as the order you used when you created the <a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_drive_kinematics.html" target="_blank">SwerveDriveKinematics</a> instance.</p>



<p>We then need to create a function that will apply these states to all four wheels:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41ead5371155568" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
  private void setModuleStates(SwerveModuleState[] swerveModuleStates) {
    SwerveDriveKinematics.desaturateWheelSpeeds(swerveModuleStates, k_maxDriveSpeedMetersPerSecond);
    m_frontLeft.setDesiredState(swerveModuleStates[0]);
    m_backLeft.setDesiredState(swerveModuleStates[1]);
    m_backRight.setDesiredState(swerveModuleStates[2]);
    m_frontRight.setDesiredState(swerveModuleStates[3]);
  }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41ead5371155568-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead5371155568-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41ead5371155568-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead5371155568-4">4</div><div class="crayon-num" data-line="crayon-68a3e9a41ead5371155568-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead5371155568-6">6</div><div class="crayon-num" data-line="crayon-68a3e9a41ead5371155568-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41ead5371155568-1"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setModuleStates</span><span class="crayon-sy">(</span><span class="crayon-i">SwerveModuleState</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-i">swerveModuleStates</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead5371155568-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">SwerveDriveKinematics</span><span class="crayon-sy">.</span><span class="crayon-e">desaturateWheelSpeeds</span><span class="crayon-sy">(</span><span class="crayon-i">swerveModuleStates</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">k_maxDriveSpeedMetersPerSecond</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead5371155568-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_frontLeft</span><span class="crayon-sy">.</span><span class="crayon-e">setDesiredState</span><span class="crayon-sy">(</span><span class="crayon-i">swerveModuleStates</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead5371155568-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_backLeft</span><span class="crayon-sy">.</span><span class="crayon-e">setDesiredState</span><span class="crayon-sy">(</span><span class="crayon-i">swerveModuleStates</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead5371155568-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_backRight</span><span class="crayon-sy">.</span><span class="crayon-e">setDesiredState</span><span class="crayon-sy">(</span><span class="crayon-i">swerveModuleStates</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead5371155568-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_frontRight</span><span class="crayon-sy">.</span><span class="crayon-e">setDesiredState</span><span class="crayon-sy">(</span><span class="crayon-i">swerveModuleStates</span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead5371155568-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->




<p>The call to <a href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_drive_kinematics.html#ad84dcb0afe48f30b9d2446855f212cad" target="_blank" rel="noreferrer noopener">desaturateWheelSpeeds</a> guarantees that we don&#8217;t try and run any of the wheels faster than they can go. We then call <strong>setDesiredState </strong>for each of the modules. Once again note the order of these. Naturally we need to implement <strong>setDesiredState </strong>in our <strong>SwerveModule </strong>class:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41ead6967030085" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    public void setDesiredState(SwerveModuleState desiredState) {

        Rotation2d encoderRotation = Rotation2d.fromDegrees(getSteeringPosition());

        // Optimize the reference state to avoid spinning further than 90 degrees
        SwerveModuleState state = SwerveModuleState.optimize(desiredState, encoderRotation);

        state.speedMetersPerSecond *= state.angle.minus(encoderRotation).getCos();

        setDriveSpeedInMetersPerSecond(state.speedMetersPerSecond);
        setSteeringPosition(state.angle.getDegrees());
    }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41ead6967030085-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead6967030085-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41ead6967030085-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead6967030085-4">4</div><div class="crayon-num" data-line="crayon-68a3e9a41ead6967030085-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead6967030085-6">6</div><div class="crayon-num" data-line="crayon-68a3e9a41ead6967030085-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead6967030085-8">8</div><div class="crayon-num" data-line="crayon-68a3e9a41ead6967030085-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead6967030085-10">10</div><div class="crayon-num" data-line="crayon-68a3e9a41ead6967030085-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead6967030085-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41ead6967030085-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setDesiredState</span><span class="crayon-sy">(</span><span class="crayon-e">SwerveModuleState </span><span class="crayon-i">desiredState</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead6967030085-2">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead6967030085-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Rotation2d </span><span class="crayon-i">encoderRotation</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">Rotation2d</span><span class="crayon-sy">.</span><span class="crayon-e">fromDegrees</span><span class="crayon-sy">(</span><span class="crayon-e">getSteeringPosition</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead6967030085-4">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead6967030085-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Optimize the reference state to avoid spinning further than 90 degrees</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead6967030085-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">SwerveModuleState </span><span class="crayon-i">state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">SwerveModuleState</span><span class="crayon-sy">.</span><span class="crayon-e">optimize</span><span class="crayon-sy">(</span><span class="crayon-i">desiredState</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">encoderRotation</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead6967030085-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead6967030085-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">state</span><span class="crayon-sy">.</span><span class="crayon-e ">speedMetersPerSecond *</span>=<span class="crayon-h"> </span><span class="crayon-i">state</span><span class="crayon-sy">.</span><span class="crayon-i">angle</span><span class="crayon-sy">.</span><span class="crayon-e">minus</span><span class="crayon-sy">(</span><span class="crayon-i">encoderRotation</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getCos</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead6967030085-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead6967030085-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setDriveSpeedInMetersPerSecond</span><span class="crayon-sy">(</span><span class="crayon-i">state</span><span class="crayon-sy">.</span><span class="crayon-i">speedMetersPerSecond</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead6967030085-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setSteeringPosition</span><span class="crayon-sy">(</span><span class="crayon-i">state</span><span class="crayon-sy">.</span><span class="crayon-i">angle</span><span class="crayon-sy">.</span><span class="crayon-e">getDegrees</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead6967030085-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->




<p>Note the call to <a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1kinematics_1_1_swerve_module_state.html#a8012fe3f127fcb3942dcaa8ad45f950a" target="_blank">optimize</a>. This function optimizes the angle and speed by reversing the direction and adding <strong>180 </strong>degrees if the amount the wheel must be rotated exceeds <strong>90 </strong>degrees. This guarantees that the maximum amount the wheel will have to rotate is <strong>90 </strong>degrees.</p>



<h4>ArcadeDrive</h4>



<p>We are now ready to create the <strong>ArcadeDrive </strong>command. It is a little complicated so I am going to give you the entire command and then I will discuss the details:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41ead8857365559" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/*----------------------------------------------------------------------------*/
/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                        */
/* Open Source Software - may be modified and shared by FRC teams. The code   */
/* must be accompanied by the FIRST BSD license file in the root directory of */
/* the project.                                                               */
/*----------------------------------------------------------------------------*/

package frc.robot.commands;

import java.util.function.DoubleSupplier;
import edu.wpi.first.math.MathUtil;
import edu.wpi.first.math.filter.SlewRateLimiter;
import edu.wpi.first.wpilibj.TimedRobot;
import edu.wpi.first.wpilibj2.command.Command;
import frc.robot.subsystems.DriveSubsystem;
import robotCore.Logger;
import robotCore.RobotCoreBase;

/**
 * An example command that uses an example subsystem.
 */
public class ArcadeDrive extends Command {
  private final DriveSubsystem m_subsystem;
  private final DoubleSupplier m_x;
  private final DoubleSupplier m_y;
  private final DoubleSupplier m_turn;
  private final Boolean m_fieldRelative;

  private final SlewRateLimiter m_xspeedLimiter = new SlewRateLimiter(3);
  private final SlewRateLimiter m_yspeedLimiter = new SlewRateLimiter(3);
  private final SlewRateLimiter m_rotLimiter = new SlewRateLimiter(3);

  /**
   * Creates a new ArcadeDrive.
   *
   * @param subsystem The subsystem used by this command.
   */
  public ArcadeDrive(DriveSubsystem subsystem, DoubleSupplier x, DoubleSupplier y, DoubleSupplier turn,
      boolean fieldRelative) {
    Logger.log("ArcadeDrive", 3, "ArcadeDrive()");

    m_subsystem = subsystem;
    m_x = x;
    m_y = y;
    m_turn = turn;
    m_fieldRelative = fieldRelative;

    // Use addRequirements() here to declare subsystem dependencies.
    addRequirements(m_subsystem);
  }

  // Called when the command is initially scheduled.
  @Override
  public void initialize() {
    Logger.log("ArcadeDrive", 2, "initialize()");
  }

  // Called every time the scheduler runs while the command is scheduled.
  @Override
  public void execute() {
    Logger.log("ArcadeDrive", -1, "execute()");

    double x = m_x.getAsDouble();
    double y = m_y.getAsDouble();
    double turn = m_turn.getAsDouble();

    // Get the x speed. We are inverting this because Xbox controllers return
    // negative values when we push forward.
    final var xSpeed = -m_xspeedLimiter.calculate(MathUtil.applyDeadband(y, 0.02))
        * DriveSubsystem.k_maxDriveSpeedMetersPerSecond;

    // Get the y speed or sideways/strafe speed. We are inverting this because
    // we want a positive value when we pull to the left. Xbox controllers
    // return positive values when you pull to the right by default.
    final var ySpeed = -m_yspeedLimiter.calculate(MathUtil.applyDeadband(x, 0.02))
        * DriveSubsystem.k_maxDriveSpeedMetersPerSecond;

    // Get the rate of angular rotation. We are inverting this because we want a
    // positive value when we pull to the left (remember, CCW is positive in
    // mathematics). Xbox controllers return positive values when you pull to
    // the right by default.
    double rot = -m_rotLimiter.calculate(MathUtil.applyDeadband(turn, 0.20))
        * DriveSubsystem.k_maxAngularSpeed;

    if ((xSpeed != 0) || (ySpeed != 0) || (rot != 0)) {
      m_subsystem.drive(xSpeed, ySpeed, rot, m_fieldRelative, ((TimedRobot) RobotCoreBase.getInstance()).getPeriod());
    } else {
      m_subsystem.stop();
    }
  }

  // Called once the command ends or is interrupted.
  @Override
  public void end(boolean interrupted) {
    Logger.log("ArcadeDrive", 2, String.format("end(%b)", interrupted));
  }

  // Returns true when the command should end.
  @Override
  public boolean isFinished() {
    Logger.log("ArcadeDrive", -1, "isFinished()");
    return false;
  }
}
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-4">4</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-6">6</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-8">8</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-10">10</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-12">12</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-14">14</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-16">16</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-18">18</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-20">20</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-22">22</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-24">24</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-26">26</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-28">28</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-30">30</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-32">32</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-34">34</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-36">36</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-38">38</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-40">40</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-42">42</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-44">44</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-46">46</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-48">48</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-50">50</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-52">52</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-54">54</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-56">56</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-58">58</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-60">60</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-62">62</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-64">64</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-66">66</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-68">68</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-70">70</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-72">72</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-74">74</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-76">76</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-78">78</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-80">80</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-82">82</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-84">84</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-86">86</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-88">88</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-90">90</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-92">92</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-94">94</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-96">96</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-98">98</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-100">100</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-102">102</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41ead8857365559-104">104</div><div class="crayon-num" data-line="crayon-68a3e9a41ead8857365559-105">105</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-1"><span class="crayon-c">/*----------------------------------------------------------------------------*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-2"><span class="crayon-c">/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-3"><span class="crayon-c">/* Open Source Software - may be modified and shared by FRC teams. The code&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-4"><span class="crayon-c">/* must be accompanied by the FIRST BSD license file in the root directory of */</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-5"><span class="crayon-c">/* the project.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-6"><span class="crayon-c">/*----------------------------------------------------------------------------*/</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-8"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-i">frc</span><span class="crayon-sy">.</span><span class="crayon-i">robot</span><span class="crayon-sy">.</span><span class="crayon-i">commands</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-10"><span class="crayon-e">import </span><span class="crayon-i">java</span><span class="crayon-sy">.</span><span class="crayon-i">util</span><span class="crayon-sy">.</span><span class="crayon-t">function</span><span class="crayon-sy">.</span><span class="crayon-i">DoubleSupplier</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-11"><span class="crayon-e">import </span><span class="crayon-i">edu</span><span class="crayon-sy">.</span><span class="crayon-i">wpi</span><span class="crayon-sy">.</span><span class="crayon-i">first</span><span class="crayon-sy">.</span><span class="crayon-i">math</span><span class="crayon-sy">.</span><span class="crayon-i">MathUtil</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-12"><span class="crayon-e">import </span><span class="crayon-i">edu</span><span class="crayon-sy">.</span><span class="crayon-i">wpi</span><span class="crayon-sy">.</span><span class="crayon-i">first</span><span class="crayon-sy">.</span><span class="crayon-i">math</span><span class="crayon-sy">.</span><span class="crayon-i">filter</span><span class="crayon-sy">.</span><span class="crayon-i">SlewRateLimiter</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-13"><span class="crayon-e">import </span><span class="crayon-i">edu</span><span class="crayon-sy">.</span><span class="crayon-i">wpi</span><span class="crayon-sy">.</span><span class="crayon-i">first</span><span class="crayon-sy">.</span><span class="crayon-i">wpilibj</span><span class="crayon-sy">.</span><span class="crayon-i">TimedRobot</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-14"><span class="crayon-e">import </span><span class="crayon-i">edu</span><span class="crayon-sy">.</span><span class="crayon-i">wpi</span><span class="crayon-sy">.</span><span class="crayon-i">first</span><span class="crayon-sy">.</span><span class="crayon-i">wpilibj2</span><span class="crayon-sy">.</span><span class="crayon-i">command</span><span class="crayon-sy">.</span><span class="crayon-i">Command</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-15"><span class="crayon-e">import </span><span class="crayon-i">frc</span><span class="crayon-sy">.</span><span class="crayon-i">robot</span><span class="crayon-sy">.</span><span class="crayon-i">subsystems</span><span class="crayon-sy">.</span><span class="crayon-i">DriveSubsystem</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-16"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">Logger</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-17"><span class="crayon-e">import </span><span class="crayon-i">robotCore</span><span class="crayon-sy">.</span><span class="crayon-i">RobotCoreBase</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-18">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-19"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-20"><span class="crayon-c"> * An example command that uses an example subsystem.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-21"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-22"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">ArcadeDrive</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">Command</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">DriveSubsystem </span><span class="crayon-i">m_subsystem</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">DoubleSupplier </span><span class="crayon-i">m_x</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">DoubleSupplier </span><span class="crayon-i">m_y</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-26"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">DoubleSupplier </span><span class="crayon-i">m_turn</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">Boolean</span><span class="crayon-h"> </span><span class="crayon-i">m_fieldRelative</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-28">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">SlewRateLimiter </span><span class="crayon-i">m_xspeedLimiter</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">SlewRateLimiter</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">SlewRateLimiter </span><span class="crayon-i">m_yspeedLimiter</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">SlewRateLimiter</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-31"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-e">SlewRateLimiter </span><span class="crayon-i">m_rotLimiter</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">SlewRateLimiter</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-32">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-33"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-34"><span class="crayon-c">&nbsp;&nbsp; * Creates a new ArcadeDrive.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-35"><span class="crayon-c">&nbsp;&nbsp; *</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-36"><span class="crayon-c">&nbsp;&nbsp; * @param subsystem The subsystem used by this command.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-37"><span class="crayon-c">&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">ArcadeDrive</span><span class="crayon-sy">(</span><span class="crayon-e">DriveSubsystem </span><span class="crayon-i">subsystem</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">DoubleSupplier</span><span class="crayon-h"> </span><span class="crayon-i">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">DoubleSupplier</span><span class="crayon-h"> </span><span class="crayon-i">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">DoubleSupplier </span><span class="crayon-i">turn</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-i">fieldRelative</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">Logger</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"ArcadeDrive"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"ArcadeDrive()"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_subsystem</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">subsystem</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_x</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">x</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_y</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">y</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_turn</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">turn</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_fieldRelative</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">fieldRelative</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Use addRequirements() here to declare subsystem dependencies.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">addRequirements</span><span class="crayon-sy">(</span><span class="crayon-i">m_subsystem</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-52"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Called when the command is initially scheduled.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-53"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-54"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">initialize</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">Logger</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"ArcadeDrive"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"initialize()"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-56"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-58"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Called every time the scheduler runs while the command is scheduled.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-59"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-60"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">execute</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">Logger</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"ArcadeDrive"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>-<span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"execute()"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-62">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">x</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">m_x</span><span class="crayon-sy">.</span><span class="crayon-e">getAsDouble</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">y</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">m_y</span><span class="crayon-sy">.</span><span class="crayon-e">getAsDouble</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">turn</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">m_turn</span><span class="crayon-sy">.</span><span class="crayon-e">getAsDouble</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-66">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Get the x speed. We are inverting this because Xbox controllers return</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// negative values when we push forward.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-i">xSpeed</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span>-<span class="crayon-i">m_xspeedLimiter</span><span class="crayon-sy">.</span><span class="crayon-e">calculate</span><span class="crayon-sy">(</span><span class="crayon-i">MathUtil</span><span class="crayon-sy">.</span><span class="crayon-e">applyDeadband</span><span class="crayon-sy">(</span><span class="crayon-i">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.02</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="crayon-h"> </span><span class="crayon-i">DriveSubsystem</span><span class="crayon-sy">.</span><span class="crayon-i">k_maxDriveSpeedMetersPerSecond</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-71">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Get the y speed or sideways/strafe speed. We are inverting this because</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// we want a positive value when we pull to the left. Xbox controllers</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// return positive values when you pull to the right by default.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-i">ySpeed</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span>-<span class="crayon-i">m_yspeedLimiter</span><span class="crayon-sy">.</span><span class="crayon-e">calculate</span><span class="crayon-sy">(</span><span class="crayon-i">MathUtil</span><span class="crayon-sy">.</span><span class="crayon-e">applyDeadband</span><span class="crayon-sy">(</span><span class="crayon-i">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.02</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="crayon-h"> </span><span class="crayon-i">DriveSubsystem</span><span class="crayon-sy">.</span><span class="crayon-i">k_maxDriveSpeedMetersPerSecond</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-77">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Get the rate of angular rotation. We are inverting this because we want a</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// positive value when we pull to the left (remember, CCW is positive in</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// mathematics). Xbox controllers return positive values when you pull to</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// the right by default.</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">double</span><span class="crayon-h"> </span><span class="crayon-i">rot</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span>-<span class="crayon-i">m_rotLimiter</span><span class="crayon-sy">.</span><span class="crayon-e">calculate</span><span class="crayon-sy">(</span><span class="crayon-i">MathUtil</span><span class="crayon-sy">.</span><span class="crayon-e">applyDeadband</span><span class="crayon-sy">(</span><span class="crayon-i">turn</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.20</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="crayon-h"> </span><span class="crayon-i">DriveSubsystem</span><span class="crayon-sy">.</span><span class="crayon-i">k_maxAngularSpeed</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-84">&nbsp;</div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-i">xSpeed</span><span class="crayon-h"> </span><span class="crayon-sy">!</span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">|</span><span class="crayon-sy">|</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">ySpeed</span><span class="crayon-h"> </span><span class="crayon-sy">!</span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">|</span><span class="crayon-sy">|</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">rot</span><span class="crayon-h"> </span><span class="crayon-sy">!</span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_subsystem</span><span class="crayon-sy">.</span><span class="crayon-e">drive</span><span class="crayon-sy">(</span><span class="crayon-i">xSpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">ySpeed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">rot</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">m_fieldRelative</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-i">TimedRobot</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">RobotCoreBase</span><span class="crayon-sy">.</span><span class="crayon-e">getInstance</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getPeriod</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_subsystem</span><span class="crayon-sy">.</span><span class="crayon-e">stop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-90"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-91">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-92"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Called once the command ends or is interrupted.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-93"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-94"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-i">interrupted</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">Logger</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"ArcadeDrive"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"end(%b)"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">interrupted</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-96"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-97">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-98"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Returns true when the command should end.</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-99"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-100"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">isFinished</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">Logger</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"ArcadeDrive"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>-<span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"isFinished()"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-103"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41ead8857365559-104"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-68a3e9a41ead8857365559-105">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->




<p>For the constructor we pass in the <strong>DriveSubsystem</strong>, of course, but we also pass in double suppliers which provide the joystick <strong>x</strong>, <strong>y</strong>, and <strong>rotation </strong>values. These will be direct values from the joystick so they will all range from -1 to +1.</p>



<p>The <strong>execute </strong>function is where everything happens. We first obtain the current values for the joystick <strong>x</strong>, <strong>y</strong>, and <strong>rotation </strong>settings. We then call the function <a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1_math_util.html#aee4b9e7f894e0ebab10f0be65c0f7bfc" target="_blank">applyDeadband</a> which will ignore the input if it is within the specified dead zone. I am using <strong>0.02</strong> for the <strong>x </strong>and <strong>y </strong>and <strong>0.20</strong> for the rotation. I am using the larger value for the rotation because I am using the twist function (i.e. Z) of the <a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1wpilibj_1_1_joystick.html#a48c1237d6aef3c683b52ca8423ffae0b" target="_blank">Joystick</a> (as opposed to an XBox controller) and it is very difficult not to slightly twist the joystick when moving the robot and I don&#8217;t want it to turn unless I twist it significantly.</p>



<p>We then take this result and pass it into <a href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1math_1_1filter_1_1_slew_rate_limiter.html" target="_blank" rel="noreferrer noopener">SlewRateLimiter</a> to limit the rate at which the values can change.</p>



<p>This result still represents a value from -1 to +1 and we need to convert this to <strong>meters/sec</strong> for the <strong>x</strong> and <strong>y </strong>and <strong>radians/sec</strong> for the <strong>rotation</strong>. We do this by multiplying them by the appropriate conversion factor <strong>k_maxDriveSpeedMetersPerSecond </strong>or <strong>k_maxAngularSpeed</strong>. Note that we have chosen <strong>2 radians/sec</strong> for the maximum <strong>angular </strong>speed. I believe that the robot can actually turn faster than that (I have not actually measured it) but turning faster than that makes the robot more difficult to control. You can, of course, change this number to suit your needs.</p>



<p>We are then ready to call the drive function we created in the <strong>DriveSubsystem</strong>. When testing this I found when the input was all zero, the motors were a bit twitchy so when the inputs are all zero, I <strong>stop </strong>all the motors instead.</p>



<h4>Set Default Command</h4>



<p>Now, as we did with the <strong>Minibot</strong>, we need to set this new <strong>ArcadeDrive </strong>command as the default command for the <strong>DriveSubsystem, </strong>and we do this in the <strong>RobotConatiner</strong>.</p>



<p>If we look at the constructor for <strong>ArcadeDrive </strong>we see that it takes three parameters which are declared as <strong>DoubleSupplier</strong>. What this is is a <strong>callback function</strong> which will return a <strong>double value</strong>. We will use these to pass in functions which will supply the <strong>x</strong>, <strong>y </strong>and <strong>turn </strong>values from the <a href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1wpilibj_1_1_joystick.html">Joy</a><a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1wpilibj_1_1_joystick.html" target="_blank">s</a><a href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1wpilibj_1_1_joystick.html">tick</a> or <a rel="noreferrer noopener" href="../RobotCoreDoc/classedu_1_1wpi_1_1first_1_1wpilibj_1_1_xbox_controller.html" target="_blank">XboxController</a>.</p>



<p>To pass in a function as an argument we use a feature of <strong>Java </strong>called <a href="https://www.w3schools.com/java/java_lambda.asp">Lamda Expressions</a> (you will need to be connected to the internet for this link to work). So what we are going to want to do is to pass in a pointer to the <strong>Joystick </strong>function that will return the <strong>x</strong>, <strong>y </strong>and <strong>twist </strong>of the joystick. For example the form of the <strong>Lamda Expression</strong> to pass in the function that will return the <strong>x</strong> value for the joystick will look like:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41eada727668672" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
() -&gt; m_joystick.getX()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41eada727668672-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41eada727668672-1"><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">m_joystick</span><span class="crayon-sy">.</span><span class="crayon-e">getX</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->




<p>Here <strong>m_joystick.getX()</strong> is the function which returns the joystick&#8217;s current <strong>x </strong>position. This <strong>Lamda Expression</strong> creates a <strong>callback function</strong> which we can call to return the value from the <strong>getX()</strong> function when needed. </p>



<p>Armed with this information we are now ready to set the <strong>default command</strong> for the <strong>DriveSubsystem </strong>to our <strong>ArcadeDrive </strong>command. In the <strong>RobotContainer</strong> <strong>constructor</strong> you need to add the following:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41eadc281138244" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    m_driveSubsystem.setDefaultCommand(new ArcadeDrive(m_driveSubsystem, () -&gt; m_joystick.getX(),
    () -&gt; -m_joystick.getY(), () -&gt; m_joystick.getZ(), true));
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41eadc281138244-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eadc281138244-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41eadc281138244-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41eadc281138244-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_driveSubsystem</span><span class="crayon-sy">.</span><span class="crayon-e">setDefaultCommand</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">ArcadeDrive</span><span class="crayon-sy">(</span><span class="crayon-i">m_driveSubsystem</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">m_joystick</span><span class="crayon-sy">.</span><span class="crayon-e">getX</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eadc281138244-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h">&gt;</span><span class="crayon-h"> </span>-<span class="crayon-i">m_joystick</span><span class="crayon-sy">.</span><span class="crayon-e">getY</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">m_joystick</span><span class="crayon-sy">.</span><span class="crayon-e">getZ</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41eadc281138244-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->




<p>If you are using an <strong>XBoxController </strong>instead of a <strong>Joystick</strong>, your code should look like:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68a3e9a41eade690323280" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    m_driveSubsystem.setDefaultCommand(new ArcadeDrive(m_driveSubsystem, () -&gt; m_xbox.getLeftX(),
        () -&gt; -m_xbox.getLeftY(), () -&gt; m_xbox.getRightX(), true));
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-68a3e9a41eade690323280-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-68a3e9a41eade690323280-2">2</div><div class="crayon-num" data-line="crayon-68a3e9a41eade690323280-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68a3e9a41eade690323280-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">m_driveSubsystem</span><span class="crayon-sy">.</span><span class="crayon-e">setDefaultCommand</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">ArcadeDrive</span><span class="crayon-sy">(</span><span class="crayon-i">m_driveSubsystem</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">m_xbox</span><span class="crayon-sy">.</span><span class="crayon-e">getLeftX</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-68a3e9a41eade690323280-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h">&gt;</span><span class="crayon-h"> </span>-<span class="crayon-i">m_xbox</span><span class="crayon-sy">.</span><span class="crayon-e">getLeftY</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">m_xbox</span><span class="crayon-sy">.</span><span class="crayon-e">getRightX</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-68a3e9a41eade690323280-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->




<h4>Maintain orientation</h4>



<p>You probably will find that as you drive the robot around it&#8217;s orientation is not maintained (even when you are not rotating it with the joystick). This is because the precision of the motors and sensors are not perfect. This is particularly apparent when using these cheap motors and 3d printed gears, but you will find the same behavior with the larger FRC robots.</p>



<p>You can fix this issues by using the <strong>gyro </strong>to maintain the current orientation. The basic idea is that when you are not commanding the robot to rotate, you record the current heading. Then as it moves you measure the difference between the current gyro heading and the desired heading. Then you automatically add a rotate vector that is proportional to the difference between the desired heading and the current heading. This will cause the robot to automatically correct itself. You should create a constant that multiplies the heading difference (e.g. <strong>k_p</strong>) and adjust it as you would tune the <strong>P </strong>of a <strong>PID </strong>loop so that it turns to the correct heading as fast as possible without the robot oscellating.</p>



<p>The implementation of this feature is left as an exercise for the reader.</p>



<p><a href="../shooter-subsystem-2/index.htm" data-type="page" data-id="2938">Next: Shooter Subsystem</a></p>
</div>		</div>
		<div class="nv-sidebar-wrap col-sm-12 nv-right blog-sidebar ">
		<aside id="secondary" role="complementary">
		
		<div id="nav_menu-2" class="widget widget_nav_menu"><p class="widget-title">Chapter</p><div class="menu-swervebot-container"><ul id="menu-swervebot" class="menu"><li id="menu-item-2724" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2724"><a href="../swervebot/index.htm">SwerveBot</a></li>
<li id="menu-item-4660" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4660"><a href="../starting-with-a-working-drive-subsyste/index.htm">Skipping the Drive Subsystem</a></li>
<li id="menu-item-2731" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2731"><a href="../drive-subsystem-3/index.htm">Drive Subsystem</a></li>
<li id="menu-item-2770" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2770"><a href="../rotation-motor-tuning/index.htm">Steering Motor Tuning</a></li>
<li id="menu-item-2853" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2853"><a href="../drive-motor-tuning/index.htm">Drive Motor Tuning</a></li>
<li id="menu-item-2878" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-2875 current_page_item menu-item-2878"><a href="index.htm" aria-current="page">Arcade Drive</a></li>
<li id="menu-item-2940" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2940"><a href="../shooter-subsystem-2/index.htm">Shooter Subsystem</a></li>
<li id="menu-item-2949" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2949"><a href="../feeder-subsystem-2/index.htm">Feeder Subsystem</a></li>
<li id="menu-item-2973" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2973"><a href="../odometry/index.htm">Odometry</a></li>
<li id="menu-item-3039" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3039"><a href="../adding-a-camera/index.htm">Adding A Camera</a></li>
<li id="menu-item-3386" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3386"><a href="../turn-to-target/index.htm">Turn To Target</a></li>
<li id="menu-item-3116" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3116"><a href="../path-following-3/index.htm">Path Following</a></li>
<li id="menu-item-3442" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3442"><a href="../final-challenge-2/index.htm">Final Challenge</a></li>
<li id="menu-item-2754" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2754"><a href="../RobotCoreDoc/annotated.html">Robot Core Documentation</a></li>
</ul></div></div>
			</aside>
</div>
	</div>
</div>

</main><!--/.neve-main-->

<footer class="site-footer" id="site-footer" next-page-hide="">
	<div class="hfg_footer">
		<div class="footer--row footer-bottom layout-full-contained" id="cb-row--footer-bottom" data-row-id="bottom" data-show-on="desktop">
	<div class="footer--row-inner footer-bottom-inner footer-content-wrap">
		<div class="container">
			<div class="hfg-grid nv-footer-content hfg-grid-bottom row--wrapper row " data-section="hfg_footer_layout_bottom">
				<div class="hfg-slot left"><div class="builder-item desktop-left tablet-left mobile-left"><div class="item--inner builder-item--footer_copyright" data-section="footer_copyright" data-item-id="footer_copyright">
	<div class="component-wrap">
	<div>
		<p>Copyright  © 2024 John Gaby</p>	</div>
</div>

	</div>

</div></div><div class="hfg-slot c-left"></div><div class="hfg-slot center"><div class="builder-item desktop-right tablet-left mobile-left"><div class="item--inner builder-item--footer-one-widgets" data-section="neve_sidebar-widgets-footer-one-widgets" data-item-id="footer-one-widgets">
		<div class="widget-area">
		<div id="block-3" class="widget widget_block"><a href="http://programming.team2102.org/about/" data-type="page" data-id="3607"><strong>About</strong></a></div>	</div>
	</div>

</div></div>							</div>
		</div>
	</div>
</div>

	</div>
</footer>

</div><!--/.wrapper-->
<script type='text/javascript' id='neve-script-js-extra'>
/* <![CDATA[ */
var NeveProperties = {"ajaxurl":"http:\/\/gabybot.com\/wp-admin\/admin-ajax.php","nonce":"23d8ab93e4","isRTL":"","isCustomize":""};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/neve/assets/js/build/modern/frontend.js?ver=3.2.0' id='neve-script-js' async=""></script>
<script type='text/javascript' id='neve-script-js-after'>
	var html = document.documentElement;
	var theme = html.getAttribute('data-neve-theme') || 'light';
	var variants = {"logo":{"light":{"src":false,"srcset":false,"sizes":false},"dark":{"src":false,"srcset":false,"sizes":false},"same":true}};

	function setCurrentTheme( theme ) {
		var pictures = document.getElementsByClassName( 'neve-site-logo' );
		for(var i = 0; i<pictures.length; i++) {
			var picture = pictures.item(i);
			if( ! picture ) {
				continue;
			};
			var fileExt = picture.src.slice((Math.max(0, picture.src.lastIndexOf(".")) || Infinity) + 1);
			if ( fileExt === 'svg' ) {
				picture.removeAttribute('width');
				picture.removeAttribute('height');
				picture.style = 'width: var(--maxWidth)';
			}
			var compId = picture.getAttribute('data-variant');
			if ( compId && variants[compId] ) {
				var isConditional = variants[compId]['same'];
				if ( theme === 'light' || isConditional || variants[compId]['dark']['src'] === false ) {
					picture.src = variants[compId]['light']['src'];
					picture.srcset = variants[compId]['light']['srcset'] || '';
					picture.sizes = variants[compId]['light']['sizes'];
					continue;
				};
				picture.src = variants[compId]['dark']['src'];
				picture.srcset = variants[compId]['dark']['srcset'] || '';
				picture.sizes = variants[compId]['dark']['sizes'];
			};
		};
	};

	var observer = new MutationObserver(function(mutations) {
		mutations.forEach(function(mutation) {
			if (mutation.type == 'attributes') {
				theme = html.getAttribute('data-neve-theme');
				setCurrentTheme(theme);
			};
		});
	});

	observer.observe(html, {
		attributes: true
	});
</script>
<script type='text/javascript' src='../wp-includes/js/comment-reply.min.js?ver=5.9.2' id='comment-reply-js'></script>
</body>

</html>
